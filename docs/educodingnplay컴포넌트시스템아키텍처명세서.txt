# educodingnplay ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ëª…ì„¸ì„œ

## ğŸ“‹ ê°œìš”

educodingnplay í”„ë¡œì íŠ¸ëŠ” **ì „í†µì ì¸ MVC íŒ¨í„´**ê³¼ **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ**ì„ ê²°í•©í•œ **í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜**ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ğŸ”¥ ë¬¸ì œ í•´ê²° ë°©í–¥ ìš”ì•½

1. **ì„œë²„ì‚¬ì´ë“œ**: Express.js + EJS í…œí”Œë¦¿ìœ¼ë¡œ ì´ˆê¸° í˜ì´ì§€ ë Œë”ë§
2. **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ**: ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ë™ì  ìƒí˜¸ì‘ìš© ì²˜ë¦¬  
3. **ë°ì´í„° ì†ŒìŠ¤**: Google Sheets APIë¥¼ í†µí•œ ì½˜í…ì¸  ê´€ë¦¬
4. **ì¸ì¦**: ì„¸ì…˜ + JWT í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ
5. **í†µì‹ **: EventBus íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HYBRID ARCHITECTURE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SERVER SIDE       â”‚    â”‚      CLIENT SIDE            â”‚ â”‚
â”‚  â”‚   (Traditional MVC) â”‚â—„â”€â”€â–ºâ”‚   (Component System)        â”‚ â”‚
â”‚  â”‚                     â”‚    â”‚                             â”‚ â”‚
â”‚  â”‚ â€¢ Express Router    â”‚    â”‚ â€¢ IDEComponent              â”‚ â”‚
â”‚  â”‚ â€¢ EJS Templates     â”‚    â”‚ â€¢ QuizComponent             â”‚ â”‚
â”‚  â”‚ â€¢ Session Auth      â”‚    â”‚ â€¢ NavigationComponent       â”‚ â”‚
â”‚  â”‚ â€¢ Middleware Chain  â”‚    â”‚ â€¢ ContentComponent          â”‚ â”‚
â”‚  â”‚ â€¢ Google Sheets API â”‚    â”‚ â€¢ EventBus                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      DATA LAYER                             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Google      â”‚ â”‚   Redis     â”‚ â”‚   MySQL     â”‚ â”‚   S3   â”‚ â”‚
â”‚  â”‚ Sheets      â”‚ â”‚  (Session)  â”‚ â”‚    (DB)     â”‚ â”‚ (Files)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ì‹œìŠ¤í…œ ì‘ë™ íë¦„

### 1. ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ íë¦„

```
ì‚¬ìš©ì ìš”ì²­ 
    â†“
Express Router (server.js)
    â†“
ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
    â†“ 
template.ejs ë Œë”ë§
    â†“
ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
    â†“
EventBus ì´ë²¤íŠ¸ êµ¬ë…
    â†“
ë™ì  ì»´í¬ë„ŒíŠ¸ ë¡œë“œ
```

### 2. ë°ì´í„° íë¦„

```
Google Sheets â”€â”€â–º getSheetData() â”€â”€â–º API Routes â”€â”€â–º Components
       â†‘                                              â†“
   Content                                    User Interaction
   Management                                        â†“
                                              EventBus
                                                 â†“
                                        Component Updates
```

### 3. ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

```
NavigationComponent â”€â”€EventBusâ”€â”€â–º ContentComponent
        â†‘                               â†“
        â”‚                        Load Problem Data
        â”‚                               â†“
EventBus â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IDEComponent/QuizComponent
```

---

## ğŸ“ íŒŒì¼ êµ¬ì¡° ë° ì—­í• 

### ğŸ¯ í•µì‹¬ ì„œë²„ íŒŒì¼

#### `server.js` - ë©”ì¸ ì„œë²„ ì»¨íŠ¸ë¡¤ëŸ¬
- **ì—­í• **: Express ì„œë²„ ì„¤ì • ë° ë¼ìš°í„° í†µí•©
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ë¼ìš°í„° ë“±ë¡ (auth, admin, learning, template ë“±)
  - ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì •
  - ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”
  - Google Sheets API ì´ˆê¸°í™”
  - ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ í†µí•©

#### `index.ejs` - ë©”ì¸ í˜ì´ì§€ í…œí”Œë¦¿
- **ì—­í• **: í™ˆí˜ì´ì§€ ìºëŸ¬ì…€ ì‹œìŠ¤í…œ
- **êµ¬ì¡°**:
  ```html
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           Header Component          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚       Bootstrap Carousel            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ ì´ˆë“± ê³¼ì •   â”‚   ì¤‘ê³ ë“± ê³¼ì •    â”‚  â”‚
  â”‚  â”‚ â€¢ ì»´í“¨í„°    â”‚   â€¢ ì•±ì¸ë²¤í„°    â”‚  â”‚
  â”‚  â”‚ â€¢ ìŠ¤í¬ë˜ì¹˜  â”‚   â€¢ íŒŒì´ì¬      â”‚  â”‚
  â”‚  â”‚ â€¢ ì—”íŠ¸ë¦¬    â”‚   â€¢ ì¸ê³µì§€ëŠ¥    â”‚  â”‚
  â”‚  â”‚ â€¢ ìê²©ì¦    â”‚   â€¢ ì•Œê³ ë¦¬ì¦˜    â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

#### `header.ejs` - ê³µí†µ í—¤ë” ì»´í¬ë„ŒíŠ¸
- **ì—­í• **: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê¶Œí•œ ê´€ë¦¬
- **ê¸°ëŠ¥**:
  - ê¶Œí•œë³„ ë©”ë‰´ í‘œì‹œ (admin, teacher, manager)
  - í”„ë¡œí•„ ì„ íƒ ëª¨ë‹¬
  - Google API ì„¤ì • ì „ì—­ ë³€ìˆ˜

---

## ğŸ›£ï¸ ë¼ìš°í„° ì‹œìŠ¤í…œ êµ¬ì¡°

### ë©”ì¸ ë¼ìš°í„° ë“±ë¡ (server.js)

```javascript
const routes = {
  'auth': require('./lib_login/auth'),           // ì¸ì¦
  'admin': require('./routes/adminRouter'),      // ê´€ë¦¬ì
  'board': require('./routes/boardRouter'),      // ê²Œì‹œíŒ
  'learning': require('./routes/learningRouter'), // í•™ìŠµê´€ë¦¬
  'template': require('./routes/templateRouter'), // í…œí”Œë¦¿ ì‹œìŠ¤í…œ
  'python': require('./routes/pythonRouter'),    // íŒŒì´ì¬
  'machinelearning': require('./routes/machinelearningRouter'),
  // ... ê¸°íƒ€ ë¼ìš°í„°ë“¤
};

// ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì™€ í•¨ê»˜ ë“±ë¡
Object.entries(routes).forEach(([path, router]) => {
  if (path === 'auth') {
    app.use(`/${path}`, router);  // ì¸ì¦ ë¼ìš°í„°ëŠ” ë¯¸ë“¤ì›¨ì–´ ì—†ì´
  } else {
    app.use(`/${path}`, authenticateUser, router); // ë‚˜ë¨¸ì§€ëŠ” ì¸ì¦ í•„ìš”
  }
});
```

### í˜ì´ì§€ë³„ ë¼ìš°íŠ¸ ë§¤í•‘

| ê²½ë¡œ | ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
|------|----------|------|
| `/` | index.ejs | ë©”ì¸ í™ˆí˜ì´ì§€ (ìºëŸ¬ì…€) |
| `/computer` | computer.ejs | ì»´í“¨í„° ê¸°ì´ˆí™œìš© |
| `/scratch_project` | scratch_project.ejs | ìŠ¤í¬ë˜ì¹˜ í”„ë¡œì íŠ¸ |
| `/python_project` | template.ejs (pageType: python) | íŒŒì´ì¬ í•™ìŠµ |
| `/algorithm` | template.ejs (pageType: algorithm) | ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ |
| `/certification` | template.ejs (pageType: certification) | ìê²©ì¦ ê³¼ì • |
| `/aiMath` | template.ejs (pageType: aiMath) | AI ìˆ˜í•™ |

---

## ğŸ” í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ

### ì¸ì¦ ë°©ì‹
1. **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: Express Session + Redis Store
2. **JWT í† í° ì§€ì›**: API í˜¸ì¶œìš©
3. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: 7ë‹¨ê³„ ì—­í•  ì‹œìŠ¤í…œ

### ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°
```
admin (ìµœê³  ê´€ë¦¬ì)
  â”œâ”€â”€ manager (ì„¼í„°ì¥)
  â”œâ”€â”€ teacher (ê°•ì‚¬)
  â”œâ”€â”€ kinder (ìœ ì¹˜ì›)
  â”œâ”€â”€ school (í•™êµ)
  â”œâ”€â”€ student (í•™ìƒ)
  â””â”€â”€ guest (ë¹„ë¡œê·¸ì¸)
```

### ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
```javascript
// ì¸ì¦ íë¦„
authenticateUser â†’ checkPageAccess â†’ checkRole â†’ í˜ì´ì§€ ë Œë”ë§

// ë¡œê¹… ë¯¸ë“¤ì›¨ì–´
logUserActivity â†’ logMenuAccess â†’ logLearningActivity
```

---

## ğŸ”§ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ êµ¬ì¡°

### í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸

#### 1. **IDEComponent** (ì½”ë“œ ì—ë””í„°)
- **ì—­í• **: Python ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰
- **êµ¬ì„±**: CodeEditor + Terminal + PythonAutoCompleter
- **API**: `/api/run-python`, `/api/get-answer-code`

#### 2. **QuizComponent** (í€´ì¦ˆ ì‹œìŠ¤í…œ)
- **ì—­í• **: ë‹¤ì–‘í•œ í˜•íƒœì˜ í€´ì¦ˆ ì²˜ë¦¬
- **ì§€ì› íƒ€ì…**: ê°ê´€ì‹, ì£¼ê´€ì‹, ì½”ë”©, ë“œë˜ê·¸ì•¤ë“œë¡­ ë“±
- **ë°ì´í„°**: Google Sheets problems ì‹œíŠ¸

#### 3. **NavigationComponent** (ë„¤ë¹„ê²Œì´ì…˜)
- **ì—­í• **: ì‚¬ì´ë“œë°” ë©”ë‰´ ë° ë¬¸ì œ ëª©ë¡
- **ê¸°ëŠ¥**: ë¬¸ì œ ì„ íƒ, ì§„ë„ ê´€ë¦¬, ì¦ê²¨ì°¾ê¸°

#### 4. **ContentComponent** (ì½˜í…ì¸  í‘œì‹œ)
- **ì—­í• **: ë¬¸ì œ ë‚´ìš© í‘œì‹œ ë° í•´ì„¤ íŒì—…
- **ê¸°ëŠ¥**: iframe ê¸°ë°˜ ì½˜í…ì¸  ë¡œë“œ, í”Œë¡œíŒ… í•´ì„¤ ë²„íŠ¼

### EventBus í†µì‹  ì‹œìŠ¤í…œ

```javascript
// ì´ë²¤íŠ¸ ë°œí–‰/êµ¬ë… íŒ¨í„´
EventBus.publish('menuSelected', { problemNumber: 1 });
EventBus.subscribe('problemChanged', (data) => {
  // ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
});

// ì£¼ìš” ì´ë²¤íŠ¸ ëª©ë¡
- menuSelected: ë©”ë‰´ ì„ íƒ
- problemChanged: ë¬¸ì œ ë³€ê²½  
- codeExecuted: ì½”ë“œ ì‹¤í–‰
- quizSubmitted: í€´ì¦ˆ ì œì¶œ
- layoutChanged: ë ˆì´ì•„ì›ƒ ë³€ê²½
```

---

## ğŸ“Š ë°ì´í„° ì†ŒìŠ¤ ë° API

### Google Sheets í†µí•©

#### ì‹œíŠ¸ êµ¬ì¡° (problems ì‹œíŠ¸)
| ì—´ | ë‚´ìš© | ì„¤ëª… |
|----|------|------|
| A | ë¬¸ì œíŒŒì¼ëª… | HTML íŒŒì¼ URL |
| B | ì‹œí—˜ì§€ëª… | ì¹´í…Œê³ ë¦¬ëª… (python, algorithm ë“±) |
| C | ë¬¸ì œë²ˆí˜¸ | p01, p02 í˜•ì‹ |
| D | ê°œë…íŒŒì¼URL | ì¶”ê°€ í•™ìŠµ ìë£Œ |
| E | ì •ë‹µíŒŒì¼URL | ì •ë‹µ ì½”ë“œ íŒŒì¼ |
| F | í•´ì„¤íŒŒì¼URL | ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼ |
| G | answerType | ë‹µì•ˆ í˜•ì‹ (code, text, multiple_choice ë“±) |
| H | ì •ë‹µ | JSON í˜•ì‹ ì •ë‹µ ë°ì´í„° |
| I | ì¸í’‹/ì•„ì›ƒí’‹ | í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ |
| J | ë‚œì´ë„ | 1-5 ë‹¨ê³„ |
| K | ê°ê´€ì‹/ì£¼ê´€ì‹ | ë¬¸ì œ ìœ í˜• |
| L | Tags | íƒœê·¸ ì •ë³´ |

#### API ì—”ë“œí¬ì¸íŠ¸
```javascript
// ë°ì´í„° ì¡°íšŒ
GET /api/problems/:examName     // íŠ¹ì • ì‹œí—˜ì˜ ë¬¸ì œ ëª©ë¡
GET /api/problem/:examName/:num // íŠ¹ì • ë¬¸ì œ ìƒì„¸ì •ë³´

// ì½”ë“œ ì‹¤í–‰
POST /api/run-python           // Python ì½”ë“œ ì‹¤í–‰
POST /python/api/run-python-interactive // ëŒ€í™”í˜• ì‹¤í–‰

// ë‹µì•ˆ ì²˜ë¦¬  
GET /api/get-answer-code       // ì •ë‹µ ì½”ë“œ ì¡°íšŒ
POST /api/quiz/submit          // í€´ì¦ˆ ë‹µì•ˆ ì œì¶œ

// í•´ì„¤ ì‹œìŠ¤í…œ
GET /api/get-explanation-md    // ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼
```

---

## ğŸ¨ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

### ë™ì  í˜ì´ì§€ ë¡œë”©

#### `template.ejs` ì‹œìŠ¤í…œ
```javascript
// pageType íŒŒë¼ë¯¸í„°ë¡œ ë™ì  ì½˜í…ì¸  ê²°ì •
res.render('template', {
  pageType: 'python',      // ë˜ëŠ” algorithm, certification, aiMath
  userID: req.session.userID,
  role: req.session.role
});
```

#### í˜ì´ì§€ë³„ ì„¤ì •
```javascript
const pageConfigs = {
  python: {
    title: "íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°",
    components: ["IDE", "Navigation", "Content"],
    examName: "python"
  },
  algorithm: {
    title: "ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ", 
    components: ["Quiz", "Navigation", "Content"],
    examName: "algorithm"
  },
  certification: {
    title: "ìê²©ì¦ ê³¼ì •",
    components: ["Quiz", "Navigation", "Content"],
    examName: "certification"  
  }
};
```

---

## ğŸ”„ ìƒíƒœ ê´€ë¦¬ ë° ìƒëª…ì£¼ê¸°

### ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ìˆœì„œ

```
1. DOM ë¡œë“œ ì™„ë£Œ
   â†“
2. ComponentSystem.init()
   â†“ 
3. ê°œë³„ ì»´í¬ë„ŒíŠ¸ ë“±ë¡
   â†“
4. EventBus ì„¤ì •
   â†“
5. ì´ˆê¸° ë°ì´í„° ë¡œë“œ
   â†“
6. ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ëŒ€ê¸°
```

### ìƒíƒœ ë™ê¸°í™”

```javascript
// ì „ì—­ ìƒíƒœ ê´€ë¦¬
const AppState = {
  currentProblem: null,
  userProgress: {},
  examName: '',
  layoutMode: 'split'  // split, full, quiz
};

// ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ê³µìœ 
EventBus.publish('stateChanged', { 
  type: 'PROBLEM_CHANGED',
  payload: { problemNumber: 3 }
});
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”

```javascript
// MIME íƒ€ì… ëª…ì‹œì  ì„¤ì •
app.use(express.static(path.join(__dirname, 'public'), {
  setHeaders: (res, filePath) => {
    const ext = path.extname(filePath).toLowerCase();
    switch (ext) {
      case '.js': res.set('Content-Type', 'application/javascript'); break;
      case '.css': res.set('Content-Type', 'text/css'); break;
      // ... ê¸°íƒ€ íƒ€ì…ë“¤
    }
    res.set('Cache-Control', 'public, max-age=3600');
  }
}));
```

### ìºì‹± ì „ëµ

1. **Redis**: ì„¸ì…˜ ë°ì´í„° ìºì‹±
2. **ë¸Œë¼ìš°ì € ìºì‹±**: ì •ì  íŒŒì¼ 1ì‹œê°„ ìºì‹œ
3. **ê¶Œí•œ ìºì‹œ**: ë©”ëª¨ë¦¬ ê¸°ë°˜ ê¶Œí•œ ì •ë³´ ìºì‹±

---

## ğŸš€ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### í™˜ê²½ ì„¤ì •
```javascript
// í™˜ê²½ë³„ ì„¤ì •
const config = {
  development: { port: 3000, ssl: false },
  production: { port: 443, ssl: true },
  redis: { url: process.env.REDIS_URL },
  cors: { allowedOrigins: [...] }
};
```

### ë¡œê¹… ì‹œìŠ¤í…œ
- **ì‚¬ìš©ì í™œë™ ë¡œê¹…**: `logUserActivity`
- **ë©”ë‰´ ì ‘ê·¼ ë¡œê¹…**: `logMenuAccess` 
- **í•™ìŠµ í™œë™ ë¡œê¹…**: `logLearningActivity`
- **ì—ëŸ¬ ì¶”ì **: ì¤‘ì•™í™”ëœ ì—ëŸ¬ í•¸ë“¤ë§

---

## ğŸ“ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ

1. **ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ ìƒì„±**
   ```javascript
   class NewComponent extends Component {
     async init() { /* ì´ˆê¸°í™” ë¡œì§ */ }
     render() { /* ë Œë”ë§ ë¡œì§ */ }
     destroy() { /* ì •ë¦¬ ë¡œì§ */ }
   }
   ```

2. **EventBus ì´ë²¤íŠ¸ ì •ì˜**
   ```javascript
   // ë°œí–‰í•  ì´ë²¤íŠ¸
   EventBus.publish('newComponent:action', data);
   
   // êµ¬ë…í•  ì´ë²¤íŠ¸  
   EventBus.subscribe('other:event', this.handleEvent.bind(this));
   ```

3. **CSS ëª¨ë“ˆí™”**
   ```css
   /* /public/css/components/new-component.css */
   .new-component-container { /* ìŠ¤íƒ€ì¼ */ }
   ```

4. **API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€** (í•„ìš”ì‹œ)
   ```javascript
   // /routes/apiRouter.js
   router.get('/new-endpoint', async (req, res) => {
     // API ë¡œì§
   });
   ```

### ê¶Œí•œ í™•ì¸ ë° í˜ì´ì§€ ì ‘ê·¼

```javascript
// ìƒˆ í˜ì´ì§€ ë¼ìš°íŠ¸ ì¶”ê°€
app.get('/new-page', 
  authenticateUser,
  checkPageAccess('/new-page'),
  (req, res) => {
    res.render('template', { pageType: 'newPage' });
  }
);
```

---

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

1. **ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ì‹¤íŒ¨**
   - ì›ì¸: CSS/JS ë¡œë“œ ìˆœì„œ ë¬¸ì œ
   - í•´ê²°: `template.ejs`ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œ í™•ì¸

2. **EventBus ì´ë²¤íŠ¸ ëˆ„ë½**
   - ì›ì¸: ë¹„ë™ê¸° ì´ˆê¸°í™” íƒ€ì´ë° ë¬¸ì œ
   - í•´ê²°: `await` í‚¤ì›Œë“œë¡œ ìˆœì°¨ ì´ˆê¸°í™”

3. **ê¶Œí•œ ì ‘ê·¼ ì˜¤ë¥˜**
   - ì›ì¸: ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `permissions.json` ì„¤ì • í™•ì¸

4. **ì •ì  íŒŒì¼ 404 ì˜¤ë¥˜**
   - ì›ì¸: MIME íƒ€ì… ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `express.static` ì„¤ì •ì—ì„œ ìºì‹œì˜¬ ë¼ìš°íŠ¸ í™•ì¸

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ë°©í–¥

1. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**: ì»´í¬ë„ŒíŠ¸ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬
2. **WebSocket í†µì‹ **: ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
3. **PWA ì§€ì›**: ì˜¤í”„ë¼ì¸ í•™ìŠµ í™˜ê²½
4. **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë„ì…**: íƒ€ì… ì•ˆì •ì„± í–¥ìƒ
5. **ì»¨í…Œì´ë„ˆí™”**: Docker ê¸°ë°˜ ë°°í¬ ìë™í™”

---
---

## ğŸ“Š ContentComponent & IDEComponent ìƒì„¸ ë¶„ì„

### ContentComponent í•µì‹¬ ê¸°ëŠ¥

ContentComponentëŠ” ë¬¸ì œ í‘œì‹œì™€ ë„¤ë¹„ê²Œì´ì…˜ì„ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤:

#### 1. íŒŒì¼ íƒ€ì…ë³„ ì²˜ë¦¬ ì‹œìŠ¤í…œ

```javascript
// ğŸ”¥ NEW ê¸°ëŠ¥: íŒŒì¼ í™•ì¥ìì— ë”°ë¥¸ ìë™ ë¶„ê¸°
loadContentByFileType(fileUrl, fileName, problemInfo, problemNumber, pythonFileUrl) {
  const fileExtension = fileName.split('.').pop()?.toLowerCase();
  
  if (fileExtension === 'md') {
    // ë§ˆí¬ë‹¤ìš´ â†’ HTML ë³€í™˜ í›„ ë Œë”ë§
    this.loadMarkdownContent(fileUrl, problemInfo, problemNumber, pythonFileUrl);
  } else {
    // ì¼ë°˜ HTML íŒŒì¼ ì²˜ë¦¬
    this.loadHtmlContent(fileUrl, problemInfo, problemNumber, pythonFileUrl);
  }
}
```

#### 2. í•´ì„¤ ì‹œìŠ¤í…œ í†µí•©

```javascript
// í•´ì„¤ ë²„íŠ¼ì„ problem-navigation-containerì— ë™ì  ìƒì„±
createExplanationButton() {
  const explanationBtn = document.createElement('button');
  explanationBtn.id = 'explanation-btn';
  explanationBtn.className = 'explanation-nav-btn';
  explanationBtn.innerHTML = `
    <i class="bi bi-lightbulb"></i>
    <span class="btn-text">í•´ì„¤</span>
  `;
  
  // í´ë¦­ ì‹œ EventBusë¡œ í•´ì„¤ ìš”ì²­ ì´ë²¤íŠ¸ ë°œí–‰
  explanationBtn.addEventListener('click', () => {
    window.EventBus.publish('explanation-request', this.explanationState.currentProblemData);
  });
}
```

#### 3. ë¬¸ì œ ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ

```javascript
// Bootstrap Iconsë¥¼ í™œìš©í•œ ë¬¸ì œ ë²ˆí˜¸ í‘œì‹œ
renderProblemNavigation() {
  for (let i = 1; i <= this.state.totalProblems; i++) {
    const problemBtn = document.createElement('i');
    problemBtn.classList.add('bi', 'problem-icon');
    
    // í˜„ì¬ ë¬¸ì œì¸ì§€ì— ë”°ë¼ ì±„ì›Œì§„/ë¹ˆ ì•„ì´ì½˜ ì„ íƒ
    if (i === this.state.currentProblemNumber) {
      problemBtn.classList.add(i === 10 ? 'bi-0-circle-fill' : `bi-${i}-circle-fill`);
    } else {
      problemBtn.classList.add(i === 10 ? 'bi-0-circle' : `bi-${i}-circle`);
    }
  }
}
```

#### 4. ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ ì‹œìŠ¤í…œ

```javascript
// marked.js + highlight.js í†µí•© ë Œë”ë§
async loadMarkdownContent(markdownUrl, problemInfo, problemNumber, pythonFileUrl) {
  const response = await fetch(markdownUrl);
  const markdownText = await response.text();
  
  // ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜
  const htmlContent = marked.parse(markdownText);
  
  // í–¥ìƒëœ HTML í…œí”Œë¦¿ì— í¬í•¨í•˜ì—¬ ë Œë”ë§
  this.elements.iframe.srcdoc = this.getEnhancedMarkdownHtml(htmlContent);
}
```

### IDEComponent êµ¬ì¡°

IDEComponentëŠ” ëª¨ë“ˆëŸ¬ ì„¤ê³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

#### 1. ëª¨ë“ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ

```javascript
// í•˜ìœ„ ëª¨ë“ˆ êµ¬ì¡°
this.modules = {
  codeEditor: null,  // CodeEditor í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
  terminal: null     // Terminal í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
};

// ëª¨ë“ˆë³„ ì´ˆê¸°í™”
async initializeModules() {
  // CodeEditor ëª¨ë“ˆ
  this.modules.codeEditor = new window.CodeEditor({
    editorId: 'editor',
    showAnswerButtonId: 'showAnswerBtn',
    aceButtonId: 'ace-btn',
    jupyterButtonId: 'jupyter-btn'
  });
  
  // Terminal ëª¨ë“ˆ
  this.modules.terminal = new window.Terminal({
    outputId: 'output-content',
    runButtonId: 'runCodeBtn',
    clearButtonId: 'clearOutputBtn'
  });
}
```

#### 2. API í”„ë¡ì‹œ íŒ¨í„´

IDEComponentëŠ” í•˜ìœ„ ëª¨ë“ˆë“¤ì˜ APIë¥¼ í†µí•©í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤:

```javascript
// ì½”ë“œ ê´€ë ¨ API
getCurrentCode() {
  return this.modules.codeEditor?.getCurrentCode() || '';
}

setCode(code) {
  return this.modules.codeEditor?.setCode(code) || false;
}

// í„°ë¯¸ë„ ê´€ë ¨ API  
appendToOutput(text, type = 'normal') {
  this.modules.terminal?.appendToOutput(text, type);
}

clearOutput() {
  this.modules.terminal?.clearOutput();
}

// ì‹¤í–‰ ê´€ë ¨ API
runCode() {
  this.modules.terminal?.runCode();
}
```

#### 3. ë¬¸ì œ ë³€ê²½ í•¸ë“¤ë§

```javascript
onProblemChanged(examName, problemNumber) {
  this.state.currentExamName = examName;
  this.state.currentProblemNumber = problemNumber;
  
  // í•˜ìœ„ ëª¨ë“ˆì— ë³€ê²½ ì‚¬í•­ ì „íŒŒ
  if (this.modules.codeEditor?.onProblemChanged) {
    this.modules.codeEditor.onProblemChanged(examName, problemNumber);
  }
}
```

---

## ğŸ”„ ì´ë²¤íŠ¸ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ í†µì‹  ì‹œìŠ¤í…œ

### EventBus íŒ¨í„´ ìƒì„¸ êµ¬ì¡°

```javascript
// í•µì‹¬ ì´ë²¤íŠ¸ ë§¤í•‘
const EVENTS = {
  // ë©”ë‰´ ê´€ë ¨
  'menuSelected': 'ë©”ë‰´ ì„ íƒ ì‹œ ë°œí–‰',
  'layoutChanged': 'ë ˆì´ì•„ì›ƒ ë³€ê²½ ì‹œ ë°œí–‰',
  
  // ë¬¸ì œ ê´€ë ¨
  'problemChanged': 'ë¬¸ì œ ë³€ê²½ ì‹œ ë°œí–‰', 
  'problemLoaded': 'ë¬¸ì œ ë¡œë“œ ì™„ë£Œ ì‹œ ë°œí–‰',
  
  // ì»´í¬ë„ŒíŠ¸ ê´€ë ¨
  'componentActivated': 'ì»´í¬ë„ŒíŠ¸ í™œì„±í™” ì‹œ ë°œí–‰',
  'componentDeactivated': 'ì»´í¬ë„ŒíŠ¸ ë¹„í™œì„±í™” ì‹œ ë°œí–‰',
  
  // IDE ê´€ë ¨
  'editor:resize': 'ì—ë””í„° í¬ê¸° ì¡°ì • ìš”ì²­',
  'editor:getCode': 'í˜„ì¬ ì½”ë“œ ê°€ì ¸ì˜¤ê¸° ìš”ì²­',
  'editor:codeResponse': 'ì½”ë“œ ì‘ë‹µ',
  
  // í•´ì„¤ ê´€ë ¨ (ğŸ”¥ NEW)
  'explanation-request': 'í•´ì„¤ íŒì—… ìš”ì²­'
};
```

### ì´ë²¤íŠ¸ ì²˜ë¦¬ íë¦„ ì˜ˆì‹œ

```
ì‚¬ìš©ì ë©”ë‰´ í´ë¦­
    â†“
NavigationComponent.handleMenuClick()
    â†“
EventBus.publish('menuSelected', {
  examName: 'python_basic_01',
  layoutType: 'ide',
  pptUrl: ''
})
    â†“
ComponentSystem.handleMenuSelected()
    â†“
1. applyLayout('ide')
2. ContentComponent.state.currentExamName ì„¤ì •
3. ContentComponent.loadProblem(1)
    â†“
EventBus.publish('problemChanged', {
  examName: 'python_basic_01', 
  problemNumber: 1,
  pythonFileUrl: 'example.py'
})
    â†“
IDEComponent.onProblemChanged()
    â†“
CodeEditor.onProblemChanged()
```

---

## ğŸ¯ ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„

### CSS í´ë˜ìŠ¤ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ ì œì–´

```css
/* ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ìˆ¨ê¹€) */
.layout-html #ide-component,
.layout-html #quiz-component,
.layout-html #ppt-viewer-component { display: none !important; }

/* IDE ë ˆì´ì•„ì›ƒ (IDE + Navigation + Content í‘œì‹œ) */
.layout-ide #ide-component { 
  display: flex !important; 
  visibility: visible !important;
  opacity: 1 !important;
}
.layout-ide #quiz-component,
.layout-ide #ppt-viewer-component { display: none !important; }

/* Quiz ë ˆì´ì•„ì›ƒ */
.layout-quiz #quiz-component { display: block !important; }
.layout-quiz #ide-component,
.layout-quiz #ppt-viewer-component { display: none !important; }

/* PPT ë ˆì´ì•„ì›ƒ */
.layout-ppt #ppt-viewer-component { display: block !important; }
.layout-ppt #content-component,
.layout-ppt #ide-component,
.layout-ppt #quiz-component { display: none !important; }
```

### ë™ì  ë ˆì´ì•„ì›ƒ ì ìš© ê³¼ì •

```javascript
applyLayout: function(layoutType) {
  // 1. ì´ì „ ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ì œê±°
  Object.values(this.LAYOUT_TYPES).forEach(type => {
    document.body.classList.remove(`layout-${type}`);
  });
  
  // 2. ìƒˆ ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ì¶”ê°€  
  document.body.classList.add(`layout-${layoutType}`);
  
  // 3. ğŸ”¥ ì¤‘ìš”: DOM ê°•ì œ í‘œì‹œ (CSS ìš°ì„ ìˆœìœ„ ë¬´ì‹œ)
  this.forceShowComponents(layoutType);
  
  // 4. ì»´í¬ë„ŒíŠ¸ í™œì„±í™”/ë¹„í™œì„±í™”
  this.activateComponents(layoutType);
  
  // 5. ë ˆì´ì•„ì›ƒë³„ íŠ¹ìˆ˜ ì²˜ë¦¬
  if (layoutType === 'ide') {
    setTimeout(() => {
      // ACE ì—ë””í„° ë¦¬ì‚¬ì´ì¦ˆ íŠ¸ë¦¬ê±°
      this.components.ide?.resizeEditor();
    }, 200);
  }
}
```

---

## ğŸ› ï¸ ëª¨ë“ˆ ë¡œë”© ë° ì˜ì¡´ì„± ê´€ë¦¬

### ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ìˆœì„œ

```html
<!-- template.ejsì—ì„œì˜ ë¡œë”© ìˆœì„œ -->
<!-- 1. ê¸°ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
<script src="https://cdnjs.cloudflare.com/# educodingnplay ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ëª…ì„¸ì„œ

## ğŸ“‹ ê°œìš”

educodingnplay í”„ë¡œì íŠ¸ëŠ” **ì „í†µì ì¸ MVC íŒ¨í„´**ê³¼ **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ**ì„ ê²°í•©í•œ **í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜**ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ğŸ”¥ ë¬¸ì œ í•´ê²° ë°©í–¥ ìš”ì•½

1. **ì„œë²„ì‚¬ì´ë“œ**: Express.js + EJS í…œí”Œë¦¿ìœ¼ë¡œ ì´ˆê¸° í˜ì´ì§€ ë Œë”ë§
2. **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ**: ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ë™ì  ìƒí˜¸ì‘ìš© ì²˜ë¦¬  
3. **ë°ì´í„° ì†ŒìŠ¤**: Google Sheets APIë¥¼ í†µí•œ ì½˜í…ì¸  ê´€ë¦¬
4. **ì¸ì¦**: ì„¸ì…˜ + JWT í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ
5. **í†µì‹ **: EventBus íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HYBRID ARCHITECTURE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SERVER SIDE       â”‚    â”‚      CLIENT SIDE            â”‚ â”‚
â”‚  â”‚   (Traditional MVC) â”‚â—„â”€â”€â–ºâ”‚   (Component System)        â”‚ â”‚
â”‚  â”‚                     â”‚    â”‚                             â”‚ â”‚
â”‚  â”‚ â€¢ Express Router    â”‚    â”‚ â€¢ IDEComponent              â”‚ â”‚
â”‚  â”‚ â€¢ EJS Templates     â”‚    â”‚ â€¢ QuizComponent             â”‚ â”‚
â”‚  â”‚ â€¢ Session Auth      â”‚    â”‚ â€¢ NavigationComponent       â”‚ â”‚
â”‚  â”‚ â€¢ Middleware Chain  â”‚    â”‚ â€¢ ContentComponent          â”‚ â”‚
â”‚  â”‚ â€¢ Google Sheets API â”‚    â”‚ â€¢ EventBus                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      DATA LAYER                             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Google      â”‚ â”‚   Redis     â”‚ â”‚   MySQL     â”‚ â”‚   S3   â”‚ â”‚
â”‚  â”‚ Sheets      â”‚ â”‚  (Session)  â”‚ â”‚    (DB)     â”‚ â”‚ (Files)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ì‹œìŠ¤í…œ ì‘ë™ íë¦„

### 1. ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ íë¦„

```
ì‚¬ìš©ì ìš”ì²­ 
    â†“
Express Router (server.js)
    â†“
ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
    â†“ 
template.ejs ë Œë”ë§
    â†“
ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
    â†“
EventBus ì´ë²¤íŠ¸ êµ¬ë…
    â†“
ë™ì  ì»´í¬ë„ŒíŠ¸ ë¡œë“œ
```

### 2. ë°ì´í„° íë¦„

```
Google Sheets â”€â”€â–º getSheetData() â”€â”€â–º API Routes â”€â”€â–º Components
       â†‘                                              â†“
   Content                                    User Interaction
   Management                                        â†“
                                              EventBus
                                                 â†“
                                        Component Updates
```

### 3. ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

```
NavigationComponent â”€â”€EventBusâ”€â”€â–º ContentComponent
        â†‘                               â†“
        â”‚                        Load Problem Data
        â”‚                               â†“
EventBus â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IDEComponent/QuizComponent
```

---

## ğŸ“ íŒŒì¼ êµ¬ì¡° ë° ì—­í• 

### ğŸ¯ í•µì‹¬ ì„œë²„ íŒŒì¼

#### `server.js` - ë©”ì¸ ì„œë²„ ì»¨íŠ¸ë¡¤ëŸ¬
- **ì—­í• **: Express ì„œë²„ ì„¤ì • ë° ë¼ìš°í„° í†µí•©
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ë¼ìš°í„° ë“±ë¡ (auth, admin, learning, template ë“±)
  - ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì •
  - ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”
  - Google Sheets API ì´ˆê¸°í™”
  - ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ í†µí•©

#### `index.ejs` - ë©”ì¸ í˜ì´ì§€ í…œí”Œë¦¿
- **ì—­í• **: í™ˆí˜ì´ì§€ ìºëŸ¬ì…€ ì‹œìŠ¤í…œ
- **êµ¬ì¡°**:
  ```html
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           Header Component          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚       Bootstrap Carousel            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ ì´ˆë“± ê³¼ì •   â”‚   ì¤‘ê³ ë“± ê³¼ì •    â”‚  â”‚
  â”‚  â”‚ â€¢ ì»´í“¨í„°    â”‚   â€¢ ì•±ì¸ë²¤í„°    â”‚  â”‚
  â”‚  â”‚ â€¢ ìŠ¤í¬ë˜ì¹˜  â”‚   â€¢ íŒŒì´ì¬      â”‚  â”‚
  â”‚  â”‚ â€¢ ì—”íŠ¸ë¦¬    â”‚   â€¢ ì¸ê³µì§€ëŠ¥    â”‚  â”‚
  â”‚  â”‚ â€¢ ìê²©ì¦    â”‚   â€¢ ì•Œê³ ë¦¬ì¦˜    â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

#### `header.ejs` - ê³µí†µ í—¤ë” ì»´í¬ë„ŒíŠ¸
- **ì—­í• **: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê¶Œí•œ ê´€ë¦¬
- **ê¸°ëŠ¥**:
  - ê¶Œí•œë³„ ë©”ë‰´ í‘œì‹œ (admin, teacher, manager)
  - í”„ë¡œí•„ ì„ íƒ ëª¨ë‹¬
  - Google API ì„¤ì • ì „ì—­ ë³€ìˆ˜

---

## ğŸ›£ï¸ ë¼ìš°í„° ì‹œìŠ¤í…œ êµ¬ì¡°

### ë©”ì¸ ë¼ìš°í„° ë“±ë¡ (server.js)

```javascript
const routes = {
  'auth': require('./lib_login/auth'),           // ì¸ì¦
  'admin': require('./routes/adminRouter'),      // ê´€ë¦¬ì
  'board': require('./routes/boardRouter'),      // ê²Œì‹œíŒ
  'learning': require('./routes/learningRouter'), // í•™ìŠµê´€ë¦¬
  'template': require('./routes/templateRouter'), // í…œí”Œë¦¿ ì‹œìŠ¤í…œ
  'python': require('./routes/pythonRouter'),    // íŒŒì´ì¬
  'machinelearning': require('./routes/machinelearningRouter'),
  // ... ê¸°íƒ€ ë¼ìš°í„°ë“¤
};

// ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì™€ í•¨ê»˜ ë“±ë¡
Object.entries(routes).forEach(([path, router]) => {
  if (path === 'auth') {
    app.use(`/${path}`, router);  // ì¸ì¦ ë¼ìš°í„°ëŠ” ë¯¸ë“¤ì›¨ì–´ ì—†ì´
  } else {
    app.use(`/${path}`, authenticateUser, router); // ë‚˜ë¨¸ì§€ëŠ” ì¸ì¦ í•„ìš”
  }
});
```

### í˜ì´ì§€ë³„ ë¼ìš°íŠ¸ ë§¤í•‘

| ê²½ë¡œ | ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
|------|----------|------|
| `/` | index.ejs | ë©”ì¸ í™ˆí˜ì´ì§€ (ìºëŸ¬ì…€) |
| `/computer` | computer.ejs | ì»´í“¨í„° ê¸°ì´ˆí™œìš© |
| `/scratch_project` | scratch_project.ejs | ìŠ¤í¬ë˜ì¹˜ í”„ë¡œì íŠ¸ |
| `/python_project` | template.ejs (pageType: python) | íŒŒì´ì¬ í•™ìŠµ |
| `/algorithm` | template.ejs (pageType: algorithm) | ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ |
| `/certification` | template.ejs (pageType: certification) | ìê²©ì¦ ê³¼ì • |
| `/aiMath` | template.ejs (pageType: aiMath) | AI ìˆ˜í•™ |

---

## ğŸ” í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ

### ì¸ì¦ ë°©ì‹
1. **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: Express Session + Redis Store
2. **JWT í† í° ì§€ì›**: API í˜¸ì¶œìš©
3. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: 7ë‹¨ê³„ ì—­í•  ì‹œìŠ¤í…œ

### ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°
```
admin (ìµœê³  ê´€ë¦¬ì)
  â”œâ”€â”€ manager (ì„¼í„°ì¥)
  â”œâ”€â”€ teacher (ê°•ì‚¬)
  â”œâ”€â”€ kinder (ìœ ì¹˜ì›)
  â”œâ”€â”€ school (í•™êµ)
  â”œâ”€â”€ student (í•™ìƒ)
  â””â”€â”€ guest (ë¹„ë¡œê·¸ì¸)
```

### ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
```javascript
// ì¸ì¦ íë¦„
authenticateUser â†’ checkPageAccess â†’ checkRole â†’ í˜ì´ì§€ ë Œë”ë§

// ë¡œê¹… ë¯¸ë“¤ì›¨ì–´
logUserActivity â†’ logMenuAccess â†’ logLearningActivity
```

---

## ğŸ”§ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ êµ¬ì¡°

### í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸

#### 1. **IDEComponent** (ì½”ë“œ ì—ë””í„°)
- **ì—­í• **: Python ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰
- **êµ¬ì„±**: CodeEditor + Terminal + PythonAutoCompleter
- **API**: `/api/run-python`, `/api/get-answer-code`

#### 2. **QuizComponent** (í€´ì¦ˆ ì‹œìŠ¤í…œ)
- **ì—­í• **: ë‹¤ì–‘í•œ í˜•íƒœì˜ í€´ì¦ˆ ì²˜ë¦¬
- **ì§€ì› íƒ€ì…**: ê°ê´€ì‹, ì£¼ê´€ì‹, ì½”ë”©, ë“œë˜ê·¸ì•¤ë“œë¡­ ë“±
- **ë°ì´í„°**: Google Sheets problems ì‹œíŠ¸

#### 3. **NavigationComponent** (ë„¤ë¹„ê²Œì´ì…˜)
- **ì—­í• **: ì‚¬ì´ë“œë°” ë©”ë‰´ ë° ë¬¸ì œ ëª©ë¡
- **ê¸°ëŠ¥**: ë¬¸ì œ ì„ íƒ, ì§„ë„ ê´€ë¦¬, ì¦ê²¨ì°¾ê¸°

#### 4. **ContentComponent** (ì½˜í…ì¸  í‘œì‹œ)
- **ì—­í• **: ë¬¸ì œ ë‚´ìš© í‘œì‹œ ë° í•´ì„¤ íŒì—…
- **ê¸°ëŠ¥**: iframe ê¸°ë°˜ ì½˜í…ì¸  ë¡œë“œ, í”Œë¡œíŒ… í•´ì„¤ ë²„íŠ¼

### EventBus í†µì‹  ì‹œìŠ¤í…œ

```javascript
// ì´ë²¤íŠ¸ ë°œí–‰/êµ¬ë… íŒ¨í„´
EventBus.publish('menuSelected', { problemNumber: 1 });
EventBus.subscribe('problemChanged', (data) => {
  // ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
});

// ì£¼ìš” ì´ë²¤íŠ¸ ëª©ë¡
- menuSelected: ë©”ë‰´ ì„ íƒ
- problemChanged: ë¬¸ì œ ë³€ê²½  
- codeExecuted: ì½”ë“œ ì‹¤í–‰
- quizSubmitted: í€´ì¦ˆ ì œì¶œ
- layoutChanged: ë ˆì´ì•„ì›ƒ ë³€ê²½
```

---

## ğŸ“Š ë°ì´í„° ì†ŒìŠ¤ ë° API

### Google Sheets í†µí•©

#### ì‹œíŠ¸ êµ¬ì¡° (problems ì‹œíŠ¸)
| ì—´ | ë‚´ìš© | ì„¤ëª… |
|----|------|------|
| A | ë¬¸ì œíŒŒì¼ëª… | HTML íŒŒì¼ URL |
| B | ì‹œí—˜ì§€ëª… | ì¹´í…Œê³ ë¦¬ëª… (python, algorithm ë“±) |
| C | ë¬¸ì œë²ˆí˜¸ | p01, p02 í˜•ì‹ |
| D | ê°œë…íŒŒì¼URL | ì¶”ê°€ í•™ìŠµ ìë£Œ |
| E | ì •ë‹µíŒŒì¼URL | ì •ë‹µ ì½”ë“œ íŒŒì¼ |
| F | í•´ì„¤íŒŒì¼URL | ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼ |
| G | answerType | ë‹µì•ˆ í˜•ì‹ (code, text, multiple_choice ë“±) |
| H | ì •ë‹µ | JSON í˜•ì‹ ì •ë‹µ ë°ì´í„° |
| I | ì¸í’‹/ì•„ì›ƒí’‹ | í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ |
| J | ë‚œì´ë„ | 1-5 ë‹¨ê³„ |
| K | ê°ê´€ì‹/ì£¼ê´€ì‹ | ë¬¸ì œ ìœ í˜• |
| L | Tags | íƒœê·¸ ì •ë³´ |

#### API ì—”ë“œí¬ì¸íŠ¸
```javascript
// ë°ì´í„° ì¡°íšŒ
GET /api/problems/:examName     // íŠ¹ì • ì‹œí—˜ì˜ ë¬¸ì œ ëª©ë¡
GET /api/problem/:examName/:num // íŠ¹ì • ë¬¸ì œ ìƒì„¸ì •ë³´

// ì½”ë“œ ì‹¤í–‰
POST /api/run-python           // Python ì½”ë“œ ì‹¤í–‰
POST /python/api/run-python-interactive // ëŒ€í™”í˜• ì‹¤í–‰

// ë‹µì•ˆ ì²˜ë¦¬  
GET /api/get-answer-code       // ì •ë‹µ ì½”ë“œ ì¡°íšŒ
POST /api/quiz/submit          // í€´ì¦ˆ ë‹µì•ˆ ì œì¶œ

// í•´ì„¤ ì‹œìŠ¤í…œ
GET /api/get-explanation-md    // ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼
```

---

## ğŸ¨ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

### ë™ì  í˜ì´ì§€ ë¡œë”©

#### `template.ejs` ì‹œìŠ¤í…œ
```javascript
// pageType íŒŒë¼ë¯¸í„°ë¡œ ë™ì  ì½˜í…ì¸  ê²°ì •
res.render('template', {
  pageType: 'python',      // ë˜ëŠ” algorithm, certification, aiMath
  userID: req.session.userID,
  role: req.session.role
});
```

#### í˜ì´ì§€ë³„ ì„¤ì •
```javascript
const pageConfigs = {
  python: {
    title: "íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°",
    components: ["IDE", "Navigation", "Content"],
    examName: "python"
  },
  algorithm: {
    title: "ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ", 
    components: ["Quiz", "Navigation", "Content"],
    examName: "algorithm"
  },
  certification: {
    title: "ìê²©ì¦ ê³¼ì •",
    components: ["Quiz", "Navigation", "Content"],
    examName: "certification"  
  }
};
```

---

## ğŸ”„ ìƒíƒœ ê´€ë¦¬ ë° ìƒëª…ì£¼ê¸°

### ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ìˆœì„œ

```
1. DOM ë¡œë“œ ì™„ë£Œ
   â†“
2. ComponentSystem.init()
   â†“ 
3. ê°œë³„ ì»´í¬ë„ŒíŠ¸ ë“±ë¡
   â†“
4. EventBus ì„¤ì •
   â†“
5. ì´ˆê¸° ë°ì´í„° ë¡œë“œ
   â†“
6. ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ëŒ€ê¸°
```

### ìƒíƒœ ë™ê¸°í™”

```javascript
// ì „ì—­ ìƒíƒœ ê´€ë¦¬
const AppState = {
  currentProblem: null,
  userProgress: {},
  examName: '',
  layoutMode: 'split'  // split, full, quiz
};

// ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ê³µìœ 
EventBus.publish('stateChanged', { 
  type: 'PROBLEM_CHANGED',
  payload: { problemNumber: 3 }
});
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”

```javascript
// MIME íƒ€ì… ëª…ì‹œì  ì„¤ì •
app.use(express.static(path.join(__dirname, 'public'), {
  setHeaders: (res, filePath) => {
    const ext = path.extname(filePath).toLowerCase();
    switch (ext) {
      case '.js': res.set('Content-Type', 'application/javascript'); break;
      case '.css': res.set('Content-Type', 'text/css'); break;
      // ... ê¸°íƒ€ íƒ€ì…ë“¤
    }
    res.set('Cache-Control', 'public, max-age=3600');
  }
}));
```

### ìºì‹± ì „ëµ

1. **Redis**: ì„¸ì…˜ ë°ì´í„° ìºì‹±
2. **ë¸Œë¼ìš°ì € ìºì‹±**: ì •ì  íŒŒì¼ 1ì‹œê°„ ìºì‹œ
3. **ê¶Œí•œ ìºì‹œ**: ë©”ëª¨ë¦¬ ê¸°ë°˜ ê¶Œí•œ ì •ë³´ ìºì‹±

---

## ğŸš€ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### í™˜ê²½ ì„¤ì •
```javascript
// í™˜ê²½ë³„ ì„¤ì •
const config = {
  development: { port: 3000, ssl: false },
  production: { port: 443, ssl: true },
  redis: { url: process.env.REDIS_URL },
  cors: { allowedOrigins: [...] }
};
```

### ë¡œê¹… ì‹œìŠ¤í…œ
- **ì‚¬ìš©ì í™œë™ ë¡œê¹…**: `logUserActivity`
- **ë©”ë‰´ ì ‘ê·¼ ë¡œê¹…**: `logMenuAccess` 
- **í•™ìŠµ í™œë™ ë¡œê¹…**: `logLearningActivity`
- **ì—ëŸ¬ ì¶”ì **: ì¤‘ì•™í™”ëœ ì—ëŸ¬ í•¸ë“¤ë§

---

## ğŸ“ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ

1. **ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ ìƒì„±**
   ```javascript
   class NewComponent extends Component {
     async init() { /* ì´ˆê¸°í™” ë¡œì§ */ }
     render() { /* ë Œë”ë§ ë¡œì§ */ }
     destroy() { /* ì •ë¦¬ ë¡œì§ */ }
   }
   ```

2. **EventBus ì´ë²¤íŠ¸ ì •ì˜**
   ```javascript
   // ë°œí–‰í•  ì´ë²¤íŠ¸
   EventBus.publish('newComponent:action', data);
   
   // êµ¬ë…í•  ì´ë²¤íŠ¸  
   EventBus.subscribe('other:event', this.handleEvent.bind(this));
   ```

3. **CSS ëª¨ë“ˆí™”**
   ```css
   /* /public/css/components/new-component.css */
   .new-component-container { /* ìŠ¤íƒ€ì¼ */ }
   ```

4. **API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€** (í•„ìš”ì‹œ)
   ```javascript
   // /routes/apiRouter.js
   router.get('/new-endpoint', async (req, res) => {
     // API ë¡œì§
   });
   ```

### ê¶Œí•œ í™•ì¸ ë° í˜ì´ì§€ ì ‘ê·¼

```javascript
// ìƒˆ í˜ì´ì§€ ë¼ìš°íŠ¸ ì¶”ê°€
app.get('/new-page', 
  authenticateUser,
  checkPageAccess('/new-page'),
  (req, res) => {
    res.render('template', { pageType: 'newPage' });
  }
);
```

---

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

1. **ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ì‹¤íŒ¨**
   - ì›ì¸: CSS/JS ë¡œë“œ ìˆœì„œ ë¬¸ì œ
   - í•´ê²°: `template.ejs`ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œ í™•ì¸

2. **EventBus ì´ë²¤íŠ¸ ëˆ„ë½**
   - ì›ì¸: ë¹„ë™ê¸° ì´ˆê¸°í™” íƒ€ì´ë° ë¬¸ì œ
   - í•´ê²°: `await` í‚¤ì›Œë“œë¡œ ìˆœì°¨ ì´ˆê¸°í™”

3. **ê¶Œí•œ ì ‘ê·¼ ì˜¤ë¥˜**
   - ì›ì¸: ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `permissions.json` ì„¤ì • í™•ì¸

4. **ì •ì  íŒŒì¼ 404 ì˜¤ë¥˜**
   - ì›ì¸: MIME íƒ€ì… ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `express.static` ì„¤ì •ì—ì„œ ìºì‹œì˜¬ ë¼ìš°íŠ¸ í™•ì¸

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ë°©í–¥

1. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**: ì»´í¬ë„ŒíŠ¸ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬
2. **WebSocket í†µì‹ **: ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
3. **PWA ì§€ì›**: ì˜¤í”„ë¼ì¸ í•™ìŠµ í™˜ê²½
4. **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë„ì…**: íƒ€ì… ì•ˆì •ì„± í–¥ìƒ
5. **ì»¨í…Œì´ë„ˆí™”**: Docker ê¸°ë°˜ ë°°í¬ ìë™í™”

------

## ğŸ“Š ContentComponent & IDEComponent ìƒì„¸ ë¶„ì„

### ContentComponent í•µì‹¬ ê¸°ëŠ¥

ContentComponentëŠ” ë¬¸ì œ í‘œì‹œì™€ ë„¤ë¹„ê²Œì´ì…˜ì„ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤:

#### 1. íŒŒì¼ íƒ€ì…ë³„ ì²˜ë¦¬ ì‹œìŠ¤í…œ

```javascript
// ğŸ”¥ NEW ê¸°ëŠ¥: íŒŒì¼ í™•ì¥ìì— ë”°ë¥¸ ìë™ ë¶„ê¸°
loadContentByFileType(fileUrl, fileName, problemInfo, problemNumber, pythonFileUrl) {
  const fileExtension = fileName.split('.').pop()?.toLowerCase();
  
  if (fileExtension === 'md') {
    // ë§ˆí¬ë‹¤ìš´ â†’ HTML ë³€í™˜ í›„ ë Œë”ë§
    this.loadMarkdownContent(fileUrl, problemInfo, problemNumber, pythonFileUrl);
  } else {
    // ì¼ë°˜ HTML íŒŒì¼ ì²˜ë¦¬
    this.loadHtmlContent(fileUrl, problemInfo, problemNumber, pythonFileUrl);
  }
}
```

#### 2. í•´ì„¤ ì‹œìŠ¤í…œ í†µí•©

```javascript
// í•´ì„¤ ë²„íŠ¼ì„ problem-navigation-containerì— ë™ì  ìƒì„±
createExplanationButton() {
  const explanationBtn = document.createElement('button');
  explanationBtn.id = 'explanation-btn';
  explanationBtn.className = 'explanation-nav-btn';
  explanationBtn.innerHTML = `
    <i class="bi bi-lightbulb"></i>
    <span class="btn-text">í•´ì„¤</span>
  `;
  
  // í´ë¦­ ì‹œ EventBusë¡œ í•´ì„¤ ìš”ì²­ ì´ë²¤íŠ¸ ë°œí–‰
  explanationBtn.addEventListener('click', () => {
    window.EventBus.publish('explanation-request', this.explanationState.currentProblemData);
  });
}
```

#### 3. ë¬¸ì œ ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ

```javascript
// Bootstrap Iconsë¥¼ í™œìš©í•œ ë¬¸ì œ ë²ˆí˜¸ í‘œì‹œ
renderProblemNavigation() {
  for (let i = 1; i <= this.state.totalProblems; i++) {
    const problemBtn = document.createElement('i');
    problemBtn.classList.add('bi', 'problem-icon');
    
    // í˜„ì¬ ë¬¸ì œì¸ì§€ì— ë”°ë¼ ì±„ì›Œì§„/ë¹ˆ ì•„ì´ì½˜ ì„ íƒ
    if (i === this.state.currentProblemNumber) {
      problemBtn.classList.add(i === 10 ? 'bi-0-circle-fill' : `bi-${i}-circle-fill`);
    } else {
      problemBtn.classList.add(i === 10 ? 'bi-0-circle' : `bi-${i}-circle`);
    }
  }
}
```

#### 4. ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ ì‹œìŠ¤í…œ

```javascript
// marked.js + highlight.js í†µí•© ë Œë”ë§
async loadMarkdownContent(markdownUrl, problemInfo, problemNumber, pythonFileUrl) {
  const response = await fetch(markdownUrl);
  const markdownText = await response.text();
  
  // ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜
  const htmlContent = marked.parse(markdownText);
  
  // í–¥ìƒëœ HTML í…œí”Œë¦¿ì— í¬í•¨í•˜ì—¬ ë Œë”ë§
  this.elements.iframe.srcdoc = this.getEnhancedMarkdownHtml(htmlContent);
}
```

### IDEComponent êµ¬ì¡°

IDEComponentëŠ” ëª¨ë“ˆëŸ¬ ì„¤ê³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

#### 1. ëª¨ë“ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ

```javascript
// í•˜ìœ„ ëª¨ë“ˆ êµ¬ì¡°
this.modules = {
  codeEditor: null,  // CodeEditor í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
  terminal: null     // Terminal í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
};

// ëª¨ë“ˆë³„ ì´ˆê¸°í™”
async initializeModules() {
  // CodeEditor ëª¨ë“ˆ
  this.modules.codeEditor = new window.CodeEditor({
    editorId: 'editor',
    showAnswerButtonId: 'showAnswerBtn',
    aceButtonId: 'ace-btn',
    jupyterButtonId: 'jupyter-btn'
  });
  
  // Terminal ëª¨ë“ˆ
  this.modules.terminal = new window.Terminal({
    outputId: 'output-content',
    runButtonId: 'runCodeBtn',
    clearButtonId: 'clearOutputBtn'
  });
}
```

#### 2. API í”„ë¡ì‹œ íŒ¨í„´

IDEComponentëŠ” í•˜ìœ„ ëª¨ë“ˆë“¤ì˜ APIë¥¼ í†µí•©í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤:

```javascript
// ì½”ë“œ ê´€ë ¨ API
getCurrentCode() {
  return this.modules.codeEditor?.getCurrentCode() || '';
}

setCode(code) {
  return this.modules.codeEditor?.setCode(code) || false;
}

// í„°ë¯¸ë„ ê´€ë ¨ API  
appendToOutput(text, type = 'normal') {
  this.modules.terminal?.appendToOutput(text, type);
}

clearOutput() {
  this.modules.terminal?.clearOutput();
}

// ì‹¤í–‰ ê´€ë ¨ API
runCode() {
  this.modules.terminal?.runCode();
}
```

#### 3. ë¬¸ì œ ë³€ê²½ í•¸ë“¤ë§

```javascript
onProblemChanged(examName, problemNumber) {
  this.state.currentExamName = examName;
  this.state.currentProblemNumber = problemNumber;
  
  // í•˜ìœ„ ëª¨ë“ˆì— ë³€ê²½ ì‚¬í•­ ì „íŒŒ
  if (this.modules.codeEditor?.onProblemChanged) {
    this.modules.codeEditor.onProblemChanged(examName, problemNumber);
  }
}
```

---

## ğŸ”„ ì´ë²¤íŠ¸ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ í†µì‹  ì‹œìŠ¤í…œ

### EventBus íŒ¨í„´ ìƒì„¸ êµ¬ì¡°

```javascript
// í•µì‹¬ ì´ë²¤íŠ¸ ë§¤í•‘
const EVENTS = {
  // ë©”ë‰´ ê´€ë ¨
  'menuSelected': 'ë©”ë‰´ ì„ íƒ ì‹œ ë°œí–‰',
  'layoutChanged': 'ë ˆì´ì•„ì›ƒ ë³€ê²½ ì‹œ ë°œí–‰',
  
  // ë¬¸ì œ ê´€ë ¨
  'problemChanged': 'ë¬¸ì œ ë³€ê²½ ì‹œ ë°œí–‰', 
  'problemLoaded': 'ë¬¸ì œ ë¡œë“œ ì™„ë£Œ ì‹œ ë°œí–‰',
  
  // ì»´í¬ë„ŒíŠ¸ ê´€ë ¨
  'componentActivated': 'ì»´í¬ë„ŒíŠ¸ í™œì„±í™” ì‹œ ë°œí–‰',
  'componentDeactivated': 'ì»´í¬ë„ŒíŠ¸ ë¹„í™œì„±í™” ì‹œ ë°œí–‰',
  
  // IDE ê´€ë ¨
  'editor:resize': 'ì—ë””í„° í¬ê¸° ì¡°ì • ìš”ì²­',
  'editor:getCode': 'í˜„ì¬ ì½”ë“œ ê°€ì ¸ì˜¤ê¸° ìš”ì²­',
  'editor:codeResponse': 'ì½”ë“œ ì‘ë‹µ',
  
  // í•´ì„¤ ê´€ë ¨ (ğŸ”¥ NEW)
  'explanation-request': 'í•´ì„¤ íŒì—… ìš”ì²­'
};
```

### ì´ë²¤íŠ¸ ì²˜ë¦¬ íë¦„ ì˜ˆì‹œ

```
ì‚¬ìš©ì ë©”ë‰´ í´ë¦­
    â†“
NavigationComponent.handleMenuClick()
    â†“
EventBus.publish('menuSelected', {
  examName: 'python_basic_01',
  layoutType: 'ide',
  pptUrl: ''
})
    â†“
ComponentSystem.handleMenuSelected()
    â†“
1. applyLayout('ide')
2. ContentComponent.state.currentExamName ì„¤ì •
3. ContentComponent.loadProblem(1)
    â†“
EventBus.publish('problemChanged', {
  examName: 'python_basic_01', 
  problemNumber: 1,
  pythonFileUrl: 'example.py'
})
    â†“
IDEComponent.onProblemChanged()
    â†“
CodeEditor.onProblemChanged()
```

---

## ğŸ¯ ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„

### CSS í´ë˜ìŠ¤ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ ì œì–´

```css
/* ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ìˆ¨ê¹€) */
.layout-html #ide-component,
.layout-html #quiz-component,
.layout-html #ppt-viewer-component { display: none !important; }

/* IDE ë ˆì´ì•„ì›ƒ (IDE + Navigation + Content í‘œì‹œ) */
.layout-ide #ide-component { 
  display: flex !important; 
  visibility: visible !important;
  opacity: 1 !important;
}
.layout-ide #quiz-component,
.layout-ide #ppt-viewer-component { display: none !important; }

/* Quiz ë ˆì´ì•„ì›ƒ */
.layout-quiz #quiz-component { display: block !important; }
.layout-quiz #ide-component,
.layout-quiz #ppt-viewer-component { display: none !important; }

/* PPT ë ˆì´ì•„ì›ƒ */
.layout-ppt #ppt-viewer-component { display: block !important; }
.layout-ppt #content-component,
.layout-ppt #ide-component,
.layout-ppt #quiz-component { display: none !important; }
```

### ë™ì  ë ˆì´ì•„ì›ƒ ì ìš© ê³¼ì •

```javascript
applyLayout: function(layoutType) {
  // 1. ì´ì „ ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ì œê±°
  Object.values(this.LAYOUT_TYPES).forEach(type => {
    document.body.classList.remove(`layout-${type}`);
  });
  
  // 2. ìƒˆ ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ì¶”ê°€  
  document.body.classList.add(`layout-${layoutType}`);
  
  // 3. ğŸ”¥ ì¤‘ìš”: DOM ê°•ì œ í‘œì‹œ (CSS ìš°ì„ ìˆœìœ„ ë¬´ì‹œ)
  this.forceShowComponents(layoutType);
  
  // 4. ì»´í¬ë„ŒíŠ¸ í™œì„±í™”/ë¹„í™œì„±í™”
  this.activateComponents(layoutType);
  
  // 5. ë ˆì´ì•„ì›ƒë³„ íŠ¹ìˆ˜ ì²˜ë¦¬
  if (layoutType === 'ide') {
    setTimeout(() => {
      // ACE ì—ë””í„° ë¦¬ì‚¬ì´ì¦ˆ íŠ¸ë¦¬ê±°
      this.components.ide?.resizeEditor();
    }, 200);
  }
}
```

---

## ğŸ› ï¸ ëª¨ë“ˆ ë¡œë”© ë° ì˜ì¡´ì„± ê´€ë¦¬

### ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ìˆœì„œ

```html
<!-- template.ejsì—ì„œì˜ ë¡œë”© ìˆœì„œ -->
<!-- 1. ê¸°ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

<!-- 2. ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ -->
<script src="/js/components/base/Component.js"></script>
<script src="/js/components/base/EventBus.js"></script>
<script src="/js/components/base/ComponentFactory.js"></script>
<script src="/js/components/base/ComponentRegistry.js"></script>

<!-- 3. ê°œë³„ ì»´í¬ë„ŒíŠ¸ë“¤ -->
<script src="/js/components/nav/NavigationComponent.js"></script>
<script src="/js/components/content/ContentComponent.js"></script>
<script src="/js/components/ide/IDEComponent.js"></script>
<script src="/js/components/quiz/QuizComponent.js"></script>

<!-- 4. ë©”ì¸ ì‹œìŠ¤í…œ (ê°€ì¥ ë§ˆì§€ë§‰) -->
<script src="/js/component-system.js"></script>
```

### ì˜ì¡´ì„± ì²´í¬ ì‹œìŠ¤í…œ

```javascript
checkDependencies: function() {
  const required = ['EventBus', 'ComponentRegistry', 'ComponentFactory'];
  const missing = required.filter(dep => !window[dep]);
  
  if (missing.length > 0) {
    console.error('ëˆ„ë½ëœ ì˜ì¡´ì„±:', missing);
    
    // ğŸ”¥ ìë™ fallback ìƒì„±
    missing.forEach(depName => {
      if (depName === 'EventBus') {
        this.createEventBusFallback();
      } else if (depName === 'ComponentRegistry') {
        this.createComponentRegistryFallback();
      }
    });
    
    return false;
  }
  return true;
}
```

---

## ğŸ”§ ì‹¤ì œ ê°œë°œ ê°€ì´ë“œ

### ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ë‹¨ê³„

#### 1. ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ ìƒì„±
```javascript
// /public/js/components/ìƒˆí´ë”/NewComponent.js
class NewComponent extends Component {
  constructor(options = {}) {
    super(options);
    this.state = {
      initialized: false,
      data: null
    };
  }
  
  async init(data = null) {
    await super.init(data);
    
    // ì»´í¬ë„ŒíŠ¸ë³„ ì´ˆê¸°í™” ë¡œì§
    this.setupUI();
    this.bindEvents();
    
    this.state.initialized = true;
    return true;
  }
  
  setupUI() {
    // UI ìš”ì†Œ ìƒì„± ë° ì„¤ì •
  }
  
  bindEvents() {
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    if (window.EventBus) {
      window.EventBus.subscribe('relevantEvent', this.handleEvent.bind(this));
    }
  }
  
  activate() {
    super.activate();
    // í™œì„±í™” ë¡œì§
  }
  
  deactivate() {
    super.deactivate();
    // ë¹„í™œì„±í™” ë¡œì§
  }
}

// ì „ì—­ ë“±ë¡
window.NewComponent = NewComponent;
```

#### 2. component-system.jsì— ë“±ë¡
```javascript
// registerComponents í•¨ìˆ˜ì— ì¶”ê°€
registerComponents: function() {
  const componentConfigs = {
    // ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤...
    newComponent: {
      className: 'NewComponent',
      options: {
        elementId: 'new-component',
        // ì»´í¬ë„ŒíŠ¸ë³„ ì˜µì…˜ë“¤
      }
    }
  };
  
  // ìë™ ë“±ë¡ ë¡œì§ì€ ê¸°ì¡´ê³¼ ë™ì¼
}
```

#### 3. HTML í…œí”Œë¦¿ì— ì¶”ê°€
```html
<!-- template.ejsì— ì»´í¬ë„ŒíŠ¸ ì»¨í…Œì´ë„ˆ ì¶”ê°€ -->
<div id="new-component" class="component-container">
  <!-- ì»´í¬ë„ŒíŠ¸ ë‚´ìš© -->
</div>

<!-- ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
<script src="/js/components/ìƒˆí´ë”/NewComponent.js"></script>
```

#### 4. CSS ìŠ¤íƒ€ì¼ë§
```css
/* /public/css/components/new-component.css */
#new-component {
  display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
}

.layout-newLayout #new-component {
  display: block; /* íŠ¹ì • ë ˆì´ì•„ì›ƒì—ì„œë§Œ í‘œì‹œ */
}
```

### ì´ë²¤íŠ¸ í†µì‹  íŒ¨í„´

#### ë°œí–‰ì íŒ¨í„´
```javascript
// ì´ë²¤íŠ¸ ë°œí–‰
window.EventBus.publish('customEvent', {
  type: 'data_changed',
  payload: { id: 123, value: 'new data' },
  timestamp: Date.now()
});
```

#### êµ¬ë…ì íŒ¨í„´  
```javascript
// ì´ë²¤íŠ¸ êµ¬ë…
window.EventBus.subscribe('customEvent', (data) => {
  console.log('ì´ë²¤íŠ¸ ìˆ˜ì‹ :', data);
  
  // ë°ì´í„° ì²˜ë¦¬ ë¡œì§
  this.updateUI(data.payload);
});
```

#### ì¼íšŒì„± ì´ë²¤íŠ¸ êµ¬ë…
```javascript
// í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
const unsubscribe = window.EventBus.subscribe('initComplete', (data) => {
  console.log('ì´ˆê¸°í™” ì™„ë£Œ:', data);
  unsubscribe(); // ìë™ìœ¼ë¡œ êµ¬ë… í•´ì œ
});
```

---

## ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 1. ì§€ì—° ë¡œë”© (Lazy Loading)

```javascript
// ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•  ë•Œë§Œ í™œì„±í™”
activateComponents: function(layoutType) {
  const activeComponents = {
    'html': ['navigation', 'content'],
    'ide': ['navigation', 'content', 'ide'],
    'quiz': ['navigation', 'content', 'quiz']
  };
  
  // ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¹„í™œì„±í™”
  Object.keys(this.components).forEach(name => {
    if (!activeComponents[layoutType].includes(name)) {
      this.components[name]?.deactivate();
    }
  });
}
```

### 2. ì´ë²¤íŠ¸ ë””ë°”ìš´ì‹±

```javascript
// ë¬¸ì œ ë³€ê²½ ì´ë²¤íŠ¸ ì¤‘ë³µ ë°©ì§€
handleProblemChanged: function(data) {
  // 100ms ë‚´ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
  const now = Date.now();
  if (now - this.lastProblemChangeTime < 100) {
    return;
  }
  this.lastProblemChangeTime = now;
  
  // ì‹¤ì œ ì²˜ë¦¬ ë¡œì§
  this.processProblemChange(data);
}
```

### 3. ë©”ëª¨ë¦¬ ê´€ë¦¬

```javascript
// ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ ì‹œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í•´ì œ
destroy: function() {
  // EventBus êµ¬ë… í•´ì œ
  if (this.eventUnsubscribers) {
    this.eventUnsubscribers.forEach(unsubscribe => unsubscribe());
    this.eventUnsubscribers = [];
  }
  
  // DOM ìš”ì†Œ ì°¸ì¡° í•´ì œ
  Object.keys(this.elements).forEach(key => {
    this.elements[key] = null;
  });
}
```

### 4. DOM ì¡°ì‘ ìµœì í™”

```javascript
// ë°°ì¹˜ DOM ì—…ë°ì´íŠ¸
updateProblemNavigation: function() {
  // DocumentFragment ì‚¬ìš©ìœ¼ë¡œ ë¦¬í”Œë¡œìš° ìµœì†Œí™”
  const fragment = document.createDocumentFragment();
  
  for (let i = 1; i <= this.state.totalProblems; i++) {
    const problemBtn = this.createProblemButton(i);
    fragment.appendChild(problemBtn);
  }
  
  // í•œ ë²ˆì— DOMì— ì¶”ê°€
  this.elements.problemNavigation.innerHTML = '';
  this.elements.problemNavigation.appendChild(fragment);
}
```

---

## ğŸ” ë””ë²„ê¹… ë„êµ¬ ë° ëª¨ë‹ˆí„°ë§

### ê°œë°œì ì½˜ì†” ëª…ë ¹ì–´

```javascript
// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë””ë²„ê¹… ëª…ë ¹ì–´ë“¤

// 1. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
ComponentSystem.state

// 2. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ìƒíƒœ í™•ì¸
Object.keys(ComponentSystem.components).map(key => ({
  name: key,
  initialized: ComponentSystem.components[key]?.initialized,
  active: ComponentSystem.components[key]?.active,
  visible: ComponentSystem.components[key]?.visible
}))

// 3. ì´ë²¤íŠ¸ ë²„ìŠ¤ ìƒíƒœ í™•ì¸
Object.keys(EventBus.events).map(event => ({
  event: event,
  listeners: EventBus.events[event].length
}))

// 4. ë©”ë‰´ ë°ì´í„° í™•ì¸
ComponentSystem.state.menuData

// 5. í˜„ì¬ í™œì„± ë ˆì´ì•„ì›ƒ í™•ì¸
document.body.className.split(' ').filter(cls => cls.startsWith('layout-'))

// 6. ê°•ì œ ë ˆì´ì•„ì›ƒ ë³€ê²½ (í…ŒìŠ¤íŠ¸ìš©)
ComponentSystem.applyLayout('ide')  // ë˜ëŠ” 'quiz', 'ppt', 'html'
```

### ë¡œê·¸ ë ˆë²¨ ì‹œìŠ¤í…œ

```javascript
// ê°œë°œ í™˜ê²½ì—ì„œ ìƒì„¸ ë¡œê¹…
const Logger = {
  levels: { ERROR: 0, WARN: 1, INFO: 2, DEBUG: 3 },
  currentLevel: 2, // INFO ë ˆë²¨
  
  log: function(level, component, message, data = null) {
    if (this.levels[level] <= this.currentLevel) {
      const timestamp = new Date().toISOString();
      console.log(`[${timestamp}] ${level} [${component}] ${message}`, data || '');
    }
  },
  
  error: (component, message, data) => Logger.log('ERROR', component, message, data),
  warn: (component, message, data) => Logger.log('WARN', component, message, data),
  info: (component, message, data) => Logger.log('INFO', component, message, data),
  debug: (component, message, data) => Logger.log('DEBUG', component, message, data)
};

// ì‚¬ìš© ì˜ˆì‹œ
Logger.info('ContentComponent', 'ë¬¸ì œ ë¡œë“œ ì‹œì‘', { examName, problemNumber });
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

```javascript
// ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ì‹œê°„ ì¸¡ì •
const PerformanceMonitor = {
  timers: {},
  
  start: function(label) {
    this.timers[label] = performance.now();
  },
  
  end: function(label) {
    if (this.timers[label]) {
      const duration = performance.now() - this.timers[label];
      console.log(`â±ï¸ ${label}: ${duration.toFixed(2)}ms`);
      delete this.timers[label];
      return duration;
    }
  }
};

// ì‚¬ìš© ì˜ˆì‹œ
PerformanceMonitor.start('ComponentSystem.init');
await ComponentSystem.init();
PerformanceMonitor.end('ComponentSystem.init');
```

---

## ğŸ“ˆ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### 1. ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ì¤€ë¹„
```javascript
// ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ì¸ ëª¨ë“ˆë¡œ ë¶„ë¦¬ ê°€ëŠ¥
const ComponentModule = {
  name: 'IDEComponent',
  version: '1.0.0',
  dependencies: ['EventBus', 'Component'],
  
  mount: (container, options) => {
    const component = new IDEComponent(options);
    container.appendChild(component.element);
    return component;
  },
  
  unmount: (component) => {
    component.destroy();
  }
};
```

### 2. í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ
```javascript
// í”ŒëŸ¬ê·¸ì¸ ì¸í„°í˜ì´ìŠ¤
const PluginManager = {
  plugins: {},
  
  register: function(name, plugin) {
    if (plugin.init && plugin.destroy) {
      this.plugins[name] = plugin;
      plugin.init();
    }
  },
  
  unregister: function(name) {
    if (this.plugins[name]) {
      this.plugins[name].destroy();
      delete this.plugins[name];
    }
  }
};
```

### 3. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°
```javascript
// ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ëŒ€
class TestableComponent extends Component {
  constructor(options = {}) {
    super(options);
    
    // ì˜ì¡´ì„± ì£¼ì…
    this.eventBus = options.eventBus || window.EventBus;
    this.httpClient = options.httpClient || fetch;
    this.logger = options.logger || console;
  }
}
```

---

## ğŸ“ ê²°ë¡  ë° í–¥í›„ ê°œì„  ë°©í–¥

### í˜„ì¬ ì‹œìŠ¤í…œì˜ ì¥ì 

1. **ëª¨ë“ˆëŸ¬ ì„¤ê³„**: ê° ì»´í¬ë„ŒíŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘
2. **ì´ë²¤íŠ¸ ê¸°ë°˜ í†µì‹ **: ëŠìŠ¨í•œ ê²°í•©ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´
3. **ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ**: CSS í´ë˜ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
4. **Fallback ì‹œìŠ¤í…œ**: ì˜¤ë¥˜ ìƒí™©ì— ëŒ€í•œ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
5. **ê°œë°œì ì¹œí™”ì **: í’ë¶€í•œ ë””ë²„ê¹… ë„êµ¬ ì œê³µ

### ê°œì„  ê°€ëŠ¥í•œ ì˜ì—­

1. **íƒ€ì… ì•ˆì „ì„±**: TypeScript ë„ì…ìœ¼ë¡œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ ê°ì†Œ
2. **ìƒíƒœ ê´€ë¦¬**: Redux/Zustand ë“± ì¤‘ì•™í™”ëœ ìƒíƒœ ê´€ë¦¬
3. **ë²ˆë“¤ë§**: Webpack/Vite ë„ì…ìœ¼ë¡œ ìµœì í™”ëœ ë°°í¬
4. **í…ŒìŠ¤íŠ¸**: Jest/Cypress ê¸°ë°˜ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ í™˜ê²½
5. **ë¬¸ì„œí™”**: JSDoc ê¸°ë°˜ API ë¬¸ì„œ ìë™ ìƒì„±

### ì°¨ì„¸ëŒ€ ì•„í‚¤í…ì²˜ ë°©í–¥

1. **ì›¹ ì»´í¬ë„ŒíŠ¸ í‘œì¤€**: Custom Elements API í™œìš©
2. **ì„œë¹„ìŠ¤ ì›Œì»¤**: ì˜¤í”„ë¼ì¸ ì§€ì› ë° ìºì‹± ì „ëµ
3. **PWA**: ë„¤ì´í‹°ë¸Œ ì•±ê³¼ ìœ ì‚¬í•œ ì‚¬ìš©ì ê²½í—˜
4. **ì‹¤ì‹œê°„ í˜‘ì—…**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ê¸°ëŠ¥
5. **AI í†µí•©**: ì½”ë”© ë„ìš°ë¯¸ ë° ìë™ ì±„ì  ì‹œìŠ¤í…œ

---

*ì´ ëª…ì„¸ì„œëŠ” educodingnplay í”„ë¡œì íŠ¸ì˜ ì‹¤ì œ ì½”ë“œ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤.*

**ğŸ“… ìµœì¢… ì—…ë°ì´íŠ¸**: 2025ë…„ 7ì›” 3ì¼  
**ğŸ”„ ë²„ì „**: 2.0 (ìƒì„¸ ë¶„ì„ ì™„ë£Œ)  
**ğŸ‘¤ ë¶„ì„ì**: AI Assistant# educodingnplay ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ëª…ì„¸ì„œ

## ğŸ“‹ ê°œìš”

educodingnplay í”„ë¡œì íŠ¸ëŠ” **ì „í†µì ì¸ MVC íŒ¨í„´**ê³¼ **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ**ì„ ê²°í•©í•œ **í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜**ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ğŸ”¥ ë¬¸ì œ í•´ê²° ë°©í–¥ ìš”ì•½

1. **ì„œë²„ì‚¬ì´ë“œ**: Express.js + EJS í…œí”Œë¦¿ìœ¼ë¡œ ì´ˆê¸° í˜ì´ì§€ ë Œë”ë§
2. **í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ**: ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ë™ì  ìƒí˜¸ì‘ìš© ì²˜ë¦¬  
3. **ë°ì´í„° ì†ŒìŠ¤**: Google Sheets APIë¥¼ í†µí•œ ì½˜í…ì¸  ê´€ë¦¬
4. **ì¸ì¦**: ì„¸ì…˜ + JWT í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ
5. **í†µì‹ **: EventBus íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HYBRID ARCHITECTURE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SERVER SIDE       â”‚    â”‚      CLIENT SIDE            â”‚ â”‚
â”‚  â”‚   (Traditional MVC) â”‚â—„â”€â”€â–ºâ”‚   (Component System)        â”‚ â”‚
â”‚  â”‚                     â”‚    â”‚                             â”‚ â”‚
â”‚  â”‚ â€¢ Express Router    â”‚    â”‚ â€¢ IDEComponent              â”‚ â”‚
â”‚  â”‚ â€¢ EJS Templates     â”‚    â”‚ â€¢ QuizComponent             â”‚ â”‚
â”‚  â”‚ â€¢ Session Auth      â”‚    â”‚ â€¢ NavigationComponent       â”‚ â”‚
â”‚  â”‚ â€¢ Middleware Chain  â”‚    â”‚ â€¢ ContentComponent          â”‚ â”‚
â”‚  â”‚ â€¢ Google Sheets API â”‚    â”‚ â€¢ EventBus                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      DATA LAYER                             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Google      â”‚ â”‚   Redis     â”‚ â”‚   MySQL     â”‚ â”‚   S3   â”‚ â”‚
â”‚  â”‚ Sheets      â”‚ â”‚  (Session)  â”‚ â”‚    (DB)     â”‚ â”‚ (Files)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ì‹œìŠ¤í…œ ì‘ë™ íë¦„

### 1. ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ íë¦„

```
ì‚¬ìš©ì ìš”ì²­ 
    â†“
Express Router (server.js)
    â†“
ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
    â†“ 
template.ejs ë Œë”ë§
    â†“
ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
    â†“
EventBus ì´ë²¤íŠ¸ êµ¬ë…
    â†“
ë™ì  ì»´í¬ë„ŒíŠ¸ ë¡œë“œ
```

### 2. ë°ì´í„° íë¦„

```
Google Sheets â”€â”€â–º getSheetData() â”€â”€â–º API Routes â”€â”€â–º Components
       â†‘                                              â†“
   Content                                    User Interaction
   Management                                        â†“
                                              EventBus
                                                 â†“
                                        Component Updates
```

### 3. ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

```
NavigationComponent â”€â”€EventBusâ”€â”€â–º ContentComponent
        â†‘                               â†“
        â”‚                        Load Problem Data
        â”‚                               â†“
EventBus â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IDEComponent/QuizComponent
```

---

## ğŸ“ íŒŒì¼ êµ¬ì¡° ë° ì—­í• 

### ğŸ¯ í•µì‹¬ ì„œë²„ íŒŒì¼

#### `server.js` - ë©”ì¸ ì„œë²„ ì»¨íŠ¸ë¡¤ëŸ¬
- **ì—­í• **: Express ì„œë²„ ì„¤ì • ë° ë¼ìš°í„° í†µí•©
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ë¼ìš°í„° ë“±ë¡ (auth, admin, learning, template ë“±)
  - ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì •
  - ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”
  - Google Sheets API ì´ˆê¸°í™”
  - ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ í†µí•©

#### `index.ejs` - ë©”ì¸ í˜ì´ì§€ í…œí”Œë¦¿
- **ì—­í• **: í™ˆí˜ì´ì§€ ìºëŸ¬ì…€ ì‹œìŠ¤í…œ
- **êµ¬ì¡°**:
  ```html
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           Header Component          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚       Bootstrap Carousel            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ ì´ˆë“± ê³¼ì •   â”‚   ì¤‘ê³ ë“± ê³¼ì •    â”‚  â”‚
  â”‚  â”‚ â€¢ ì»´í“¨í„°    â”‚   â€¢ ì•±ì¸ë²¤í„°    â”‚  â”‚
  â”‚  â”‚ â€¢ ìŠ¤í¬ë˜ì¹˜  â”‚   â€¢ íŒŒì´ì¬      â”‚  â”‚
  â”‚  â”‚ â€¢ ì—”íŠ¸ë¦¬    â”‚   â€¢ ì¸ê³µì§€ëŠ¥    â”‚  â”‚
  â”‚  â”‚ â€¢ ìê²©ì¦    â”‚   â€¢ ì•Œê³ ë¦¬ì¦˜    â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

#### `header.ejs` - ê³µí†µ í—¤ë” ì»´í¬ë„ŒíŠ¸
- **ì—­í• **: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê¶Œí•œ ê´€ë¦¬
- **ê¸°ëŠ¥**:
  - ê¶Œí•œë³„ ë©”ë‰´ í‘œì‹œ (admin, teacher, manager)
  - í”„ë¡œí•„ ì„ íƒ ëª¨ë‹¬
  - Google API ì„¤ì • ì „ì—­ ë³€ìˆ˜

---

## ğŸ›£ï¸ ë¼ìš°í„° ì‹œìŠ¤í…œ êµ¬ì¡°

### ë©”ì¸ ë¼ìš°í„° ë“±ë¡ (server.js)

```javascript
const routes = {
  'auth': require('./lib_login/auth'),           // ì¸ì¦
  'admin': require('./routes/adminRouter'),      // ê´€ë¦¬ì
  'board': require('./routes/boardRouter'),      // ê²Œì‹œíŒ
  'learning': require('./routes/learningRouter'), // í•™ìŠµê´€ë¦¬
  'template': require('./routes/templateRouter'), // í…œí”Œë¦¿ ì‹œìŠ¤í…œ
  'python': require('./routes/pythonRouter'),    // íŒŒì´ì¬
  'machinelearning': require('./routes/machinelearningRouter'),
  // ... ê¸°íƒ€ ë¼ìš°í„°ë“¤
};

// ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì™€ í•¨ê»˜ ë“±ë¡
Object.entries(routes).forEach(([path, router]) => {
  if (path === 'auth') {
    app.use(`/${path}`, router);  // ì¸ì¦ ë¼ìš°í„°ëŠ” ë¯¸ë“¤ì›¨ì–´ ì—†ì´
  } else {
    app.use(`/${path}`, authenticateUser, router); // ë‚˜ë¨¸ì§€ëŠ” ì¸ì¦ í•„ìš”
  }
});
```

### í˜ì´ì§€ë³„ ë¼ìš°íŠ¸ ë§¤í•‘

| ê²½ë¡œ | ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
|------|----------|------|
| `/` | index.ejs | ë©”ì¸ í™ˆí˜ì´ì§€ (ìºëŸ¬ì…€) |
| `/computer` | computer.ejs | ì»´í“¨í„° ê¸°ì´ˆí™œìš© |
| `/scratch_project` | scratch_project.ejs | ìŠ¤í¬ë˜ì¹˜ í”„ë¡œì íŠ¸ |
| `/python_project` | template.ejs (pageType: python) | íŒŒì´ì¬ í•™ìŠµ |
| `/algorithm` | template.ejs (pageType: algorithm) | ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ |
| `/certification` | template.ejs (pageType: certification) | ìê²©ì¦ ê³¼ì • |
| `/aiMath` | template.ejs (pageType: aiMath) | AI ìˆ˜í•™ |

---

## ğŸ” í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦ ì‹œìŠ¤í…œ

### ì¸ì¦ ë°©ì‹
1. **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: Express Session + Redis Store
2. **JWT í† í° ì§€ì›**: API í˜¸ì¶œìš©
3. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: 7ë‹¨ê³„ ì—­í•  ì‹œìŠ¤í…œ

### ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°
```
admin (ìµœê³  ê´€ë¦¬ì)
  â”œâ”€â”€ manager (ì„¼í„°ì¥)
  â”œâ”€â”€ teacher (ê°•ì‚¬)
  â”œâ”€â”€ kinder (ìœ ì¹˜ì›)
  â”œâ”€â”€ school (í•™êµ)
  â”œâ”€â”€ student (í•™ìƒ)
  â””â”€â”€ guest (ë¹„ë¡œê·¸ì¸)
```

### ë¯¸ë“¤ì›¨ì–´ ì²´ì¸
```javascript
// ì¸ì¦ íë¦„
authenticateUser â†’ checkPageAccess â†’ checkRole â†’ í˜ì´ì§€ ë Œë”ë§

// ë¡œê¹… ë¯¸ë“¤ì›¨ì–´
logUserActivity â†’ logMenuAccess â†’ logLearningActivity
```

---

## ğŸ”§ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ êµ¬ì¡°

### í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ ì»´í¬ë„ŒíŠ¸

#### 1. **IDEComponent** (ì½”ë“œ ì—ë””í„°)
- **ì—­í• **: Python ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰
- **êµ¬ì„±**: CodeEditor + Terminal + PythonAutoCompleter
- **API**: `/api/run-python`, `/api/get-answer-code`

#### 2. **QuizComponent** (í€´ì¦ˆ ì‹œìŠ¤í…œ)
- **ì—­í• **: ë‹¤ì–‘í•œ í˜•íƒœì˜ í€´ì¦ˆ ì²˜ë¦¬
- **ì§€ì› íƒ€ì…**: ê°ê´€ì‹, ì£¼ê´€ì‹, ì½”ë”©, ë“œë˜ê·¸ì•¤ë“œë¡­ ë“±
- **ë°ì´í„°**: Google Sheets problems ì‹œíŠ¸

#### 3. **NavigationComponent** (ë„¤ë¹„ê²Œì´ì…˜)
- **ì—­í• **: ì‚¬ì´ë“œë°” ë©”ë‰´ ë° ë¬¸ì œ ëª©ë¡
- **ê¸°ëŠ¥**: ë¬¸ì œ ì„ íƒ, ì§„ë„ ê´€ë¦¬, ì¦ê²¨ì°¾ê¸°

#### 4. **ContentComponent** (ì½˜í…ì¸  í‘œì‹œ)
- **ì—­í• **: ë¬¸ì œ ë‚´ìš© í‘œì‹œ ë° í•´ì„¤ íŒì—…
- **ê¸°ëŠ¥**: iframe ê¸°ë°˜ ì½˜í…ì¸  ë¡œë“œ, í”Œë¡œíŒ… í•´ì„¤ ë²„íŠ¼

### EventBus í†µì‹  ì‹œìŠ¤í…œ

```javascript
// ì´ë²¤íŠ¸ ë°œí–‰/êµ¬ë… íŒ¨í„´
EventBus.publish('menuSelected', { problemNumber: 1 });
EventBus.subscribe('problemChanged', (data) => {
  // ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
});

// ì£¼ìš” ì´ë²¤íŠ¸ ëª©ë¡
- menuSelected: ë©”ë‰´ ì„ íƒ
- problemChanged: ë¬¸ì œ ë³€ê²½  
- codeExecuted: ì½”ë“œ ì‹¤í–‰
- quizSubmitted: í€´ì¦ˆ ì œì¶œ
- layoutChanged: ë ˆì´ì•„ì›ƒ ë³€ê²½
```

---

## ğŸ“Š ë°ì´í„° ì†ŒìŠ¤ ë° API

### Google Sheets í†µí•©

#### ì‹œíŠ¸ êµ¬ì¡° (problems ì‹œíŠ¸)
| ì—´ | ë‚´ìš© | ì„¤ëª… |
|----|------|------|
| A | ë¬¸ì œíŒŒì¼ëª… | HTML íŒŒì¼ URL |
| B | ì‹œí—˜ì§€ëª… | ì¹´í…Œê³ ë¦¬ëª… (python, algorithm ë“±) |
| C | ë¬¸ì œë²ˆí˜¸ | p01, p02 í˜•ì‹ |
| D | ê°œë…íŒŒì¼URL | ì¶”ê°€ í•™ìŠµ ìë£Œ |
| E | ì •ë‹µíŒŒì¼URL | ì •ë‹µ ì½”ë“œ íŒŒì¼ |
| F | í•´ì„¤íŒŒì¼URL | ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼ |
| G | answerType | ë‹µì•ˆ í˜•ì‹ (code, text, multiple_choice ë“±) |
| H | ì •ë‹µ | JSON í˜•ì‹ ì •ë‹µ ë°ì´í„° |
| I | ì¸í’‹/ì•„ì›ƒí’‹ | í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ |
| J | ë‚œì´ë„ | 1-5 ë‹¨ê³„ |
| K | ê°ê´€ì‹/ì£¼ê´€ì‹ | ë¬¸ì œ ìœ í˜• |
| L | Tags | íƒœê·¸ ì •ë³´ |

#### API ì—”ë“œí¬ì¸íŠ¸
```javascript
// ë°ì´í„° ì¡°íšŒ
GET /api/problems/:examName     // íŠ¹ì • ì‹œí—˜ì˜ ë¬¸ì œ ëª©ë¡
GET /api/problem/:examName/:num // íŠ¹ì • ë¬¸ì œ ìƒì„¸ì •ë³´

// ì½”ë“œ ì‹¤í–‰
POST /api/run-python           // Python ì½”ë“œ ì‹¤í–‰
POST /python/api/run-python-interactive // ëŒ€í™”í˜• ì‹¤í–‰

// ë‹µì•ˆ ì²˜ë¦¬  
GET /api/get-answer-code       // ì •ë‹µ ì½”ë“œ ì¡°íšŒ
POST /api/quiz/submit          // í€´ì¦ˆ ë‹µì•ˆ ì œì¶œ

// í•´ì„¤ ì‹œìŠ¤í…œ
GET /api/get-explanation-md    // ë§ˆí¬ë‹¤ìš´ í•´ì„¤ íŒŒì¼
```

---

## ğŸ¨ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

### ë™ì  í˜ì´ì§€ ë¡œë”©

#### `template.ejs` ì‹œìŠ¤í…œ
```javascript
// pageType íŒŒë¼ë¯¸í„°ë¡œ ë™ì  ì½˜í…ì¸  ê²°ì •
res.render('template', {
  pageType: 'python',      // ë˜ëŠ” algorithm, certification, aiMath
  userID: req.session.userID,
  role: req.session.role
});
```

#### í˜ì´ì§€ë³„ ì„¤ì •
```javascript
const pageConfigs = {
  python: {
    title: "íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°",
    components: ["IDE", "Navigation", "Content"],
    examName: "python"
  },
  algorithm: {
    title: "ì•Œê³ ë¦¬ì¦˜ ì—°ìŠµ", 
    components: ["Quiz", "Navigation", "Content"],
    examName: "algorithm"
  },
  certification: {
    title: "ìê²©ì¦ ê³¼ì •",
    components: ["Quiz", "Navigation", "Content"],
    examName: "certification"  
  }
};
```

---

## ğŸ”„ ìƒíƒœ ê´€ë¦¬ ë° ìƒëª…ì£¼ê¸°

### ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ìˆœì„œ

```
1. DOM ë¡œë“œ ì™„ë£Œ
   â†“
2. ComponentSystem.init()
   â†“ 
3. ê°œë³„ ì»´í¬ë„ŒíŠ¸ ë“±ë¡
   â†“
4. EventBus ì„¤ì •
   â†“
5. ì´ˆê¸° ë°ì´í„° ë¡œë“œ
   â†“
6. ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ëŒ€ê¸°
```

### ìƒíƒœ ë™ê¸°í™”

```javascript
// ì „ì—­ ìƒíƒœ ê´€ë¦¬
const AppState = {
  currentProblem: null,
  userProgress: {},
  examName: '',
  layoutMode: 'split'  // split, full, quiz
};

// ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ê³µìœ 
EventBus.publish('stateChanged', { 
  type: 'PROBLEM_CHANGED',
  payload: { problemNumber: 3 }
});
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”

```javascript
// MIME íƒ€ì… ëª…ì‹œì  ì„¤ì •
app.use(express.static(path.join(__dirname, 'public'), {
  setHeaders: (res, filePath) => {
    const ext = path.extname(filePath).toLowerCase();
    switch (ext) {
      case '.js': res.set('Content-Type', 'application/javascript'); break;
      case '.css': res.set('Content-Type', 'text/css'); break;
      // ... ê¸°íƒ€ íƒ€ì…ë“¤
    }
    res.set('Cache-Control', 'public, max-age=3600');
  }
}));
```

### ìºì‹± ì „ëµ

1. **Redis**: ì„¸ì…˜ ë°ì´í„° ìºì‹±
2. **ë¸Œë¼ìš°ì € ìºì‹±**: ì •ì  íŒŒì¼ 1ì‹œê°„ ìºì‹œ
3. **ê¶Œí•œ ìºì‹œ**: ë©”ëª¨ë¦¬ ê¸°ë°˜ ê¶Œí•œ ì •ë³´ ìºì‹±

---

## ğŸš€ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### í™˜ê²½ ì„¤ì •
```javascript
// í™˜ê²½ë³„ ì„¤ì •
const config = {
  development: { port: 3000, ssl: false },
  production: { port: 443, ssl: true },
  redis: { url: process.env.REDIS_URL },
  cors: { allowedOrigins: [...] }
};
```

### ë¡œê¹… ì‹œìŠ¤í…œ
- **ì‚¬ìš©ì í™œë™ ë¡œê¹…**: `logUserActivity`
- **ë©”ë‰´ ì ‘ê·¼ ë¡œê¹…**: `logMenuAccess` 
- **í•™ìŠµ í™œë™ ë¡œê¹…**: `logLearningActivity`
- **ì—ëŸ¬ ì¶”ì **: ì¤‘ì•™í™”ëœ ì—ëŸ¬ í•¸ë“¤ë§

---

## ğŸ“ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ

1. **ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ ìƒì„±**
   ```javascript
   class NewComponent extends Component {
     async init() { /* ì´ˆê¸°í™” ë¡œì§ */ }
     render() { /* ë Œë”ë§ ë¡œì§ */ }
     destroy() { /* ì •ë¦¬ ë¡œì§ */ }
   }
   ```

2. **EventBus ì´ë²¤íŠ¸ ì •ì˜**
   ```javascript
   // ë°œí–‰í•  ì´ë²¤íŠ¸
   EventBus.publish('newComponent:action', data);
   
   // êµ¬ë…í•  ì´ë²¤íŠ¸  
   EventBus.subscribe('other:event', this.handleEvent.bind(this));
   ```

3. **CSS ëª¨ë“ˆí™”**
   ```css
   /* /public/css/components/new-component.css */
   .new-component-container { /* ìŠ¤íƒ€ì¼ */ }
   ```

4. **API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€** (í•„ìš”ì‹œ)
   ```javascript
   // /routes/apiRouter.js
   router.get('/new-endpoint', async (req, res) => {
     // API ë¡œì§
   });
   ```

### ê¶Œí•œ í™•ì¸ ë° í˜ì´ì§€ ì ‘ê·¼

```javascript
// ìƒˆ í˜ì´ì§€ ë¼ìš°íŠ¸ ì¶”ê°€
app.get('/new-page', 
  authenticateUser,
  checkPageAccess('/new-page'),
  (req, res) => {
    res.render('template', { pageType: 'newPage' });
  }
);
```

---

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

1. **ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ì‹¤íŒ¨**
   - ì›ì¸: CSS/JS ë¡œë“œ ìˆœì„œ ë¬¸ì œ
   - í•´ê²°: `template.ejs`ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œ í™•ì¸

2. **EventBus ì´ë²¤íŠ¸ ëˆ„ë½**
   - ì›ì¸: ë¹„ë™ê¸° ì´ˆê¸°í™” íƒ€ì´ë° ë¬¸ì œ
   - í•´ê²°: `await` í‚¤ì›Œë“œë¡œ ìˆœì°¨ ì´ˆê¸°í™”

3. **ê¶Œí•œ ì ‘ê·¼ ì˜¤ë¥˜**
   - ì›ì¸: ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `permissions.json` ì„¤ì • í™•ì¸

4. **ì •ì  íŒŒì¼ 404 ì˜¤ë¥˜**
   - ì›ì¸: MIME íƒ€ì… ì„¤ì • ë¬¸ì œ
   - í•´ê²°: `express.static` ì„¤ì •ì—ì„œ ìºì‹œì˜¬ ë¼ìš°íŠ¸ í™•ì¸

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ë°©í–¥

1. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**: ì»´í¬ë„ŒíŠ¸ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬
2. **WebSocket í†µì‹ **: ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
3. **PWA ì§€ì›**: ì˜¤í”„ë¼ì¸ í•™ìŠµ í™˜ê²½
4. **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë„ì…**: íƒ€ì… ì•ˆì •ì„± í–¥ìƒ
5. **ì»¨í…Œì´ë„ˆí™”**: Docker ê¸°ë°˜ ë°°í¬ ìë™í™”

---

*ğŸ“… ì‘ì„±ì¼: 2025ë…„ 7ì›” 3ì¼*  
*ğŸ”„ ë²„ì „: 1.0*  
*ğŸ‘¤ ì‘ì„±ì: AI Assistant*