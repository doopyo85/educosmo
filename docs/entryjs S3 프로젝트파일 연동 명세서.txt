EntryJS S3 í”„ë¡œì íŠ¸ íŒŒì¼ ì—°ë™ ëª…ì„¸ì„œ
ğŸ“‹ ì‹œìŠ¤í…œ ê°œìš”
í”„ë¡œì íŠ¸: educodingnplay EntryJS S3 ENT íŒŒì¼ ì—°ë™ ì‹œìŠ¤í…œ
ì•„í‚¤í…ì²˜: 3000ë²ˆ(ë©”ì¸) + 8070ë²ˆ(EntryJS) ë¶„ë¦¬í˜• í•˜ì´ë¸Œë¦¬ë“œ ì‹œìŠ¤í…œ
ë°ì´í„° ì†ŒìŠ¤: Google Sheets + AWS S3 + MySQL
ì‘ì„±ì¼: 2025ë…„ 8ì›” 2ì¼
ìƒíƒœ: ğŸŸ¢ ìš´ì˜ ì¤‘ (ì´ë¯¸ì§€ ë¡œë“œ ì´ìŠˆ í•´ê²° ì¤‘)

ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì ë¸Œë¼ìš°ì €   â”‚    â”‚   3000ë²ˆ ë©”ì¸ì„œë²„   â”‚    â”‚   8070ë²ˆ EntryJS  â”‚
â”‚                â”‚    â”‚   (ì¸ì¦/S3/API)    â”‚    â”‚     (ì›Œí¬ìŠ¤í˜ì´ìŠ¤)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚ 1. ì¹´ë“œ í´ë¦­            â”‚                       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                       â”‚
         â”‚                       â”‚ 2. S3 ENT ë‹¤ìš´ë¡œë“œ     â”‚
         â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
         â”‚                       â”‚                      â”‚â”‚
         â”‚                       â”‚ 3. ENT íŒŒì‹±          â”‚â”‚
         â”‚                       â”‚ 4. í”„ë¡œì íŠ¸ ë°ì´í„° ì¶”ì¶œ â”‚â”‚
         â”‚                       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
         â”‚                       â”‚                       â”‚
         â”‚ 5. 8070ë²ˆ ë¦¬ë‹¤ì´ë ‰íŠ¸    â”‚                       â”‚
         â”‚ (í”„ë¡œì íŠ¸ ë°ì´í„° í¬í•¨)   â”‚                       â”‚
         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
         â”‚                                               â”‚
         â”‚ 6. EntryJS ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë¡œë“œ                     â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
         â”‚                                               â”‚
         â”‚ 7. ì´ë¯¸ì§€ ìš”ì²­ (/entry/temp/...)                â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
         â”‚ 8. ì´ë¯¸ì§€ ì‘ë‹µ                                   â”‚
         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

ğŸ—‚ï¸ ë°ì´í„° ì†ŒìŠ¤ êµ¬ì¡°
Google Sheets êµ¬ì¡° (problems ì‹œíŠ¸)
ì—´í•„ë“œëª…ì˜ˆì‹œê°’ì„¤ëª…Aë¬¸ì œíŒŒì¼ëª…cpe1-1a.entS3 ENT íŒŒì¼ëª…Bì‹œí—˜ì§€ëª…pythonì¹´í…Œê³ ë¦¬/ê³¼ëª©ëª…Cë¬¸ì œë²ˆí˜¸p01ë¬¸ì œ ìˆœì„œDê°œë…íŒŒì¼URLconcept1.mdì¶”ê°€ í•™ìŠµìë£ŒEì •ë‹µíŒŒì¼URLanswer1.pyì •ë‹µ ì½”ë“œFí•´ì„¤íŒŒì¼URLexplanation1.mdí•´ì„¤ íŒŒì¼GanswerTypecodeë‹µì•ˆ í˜•ì‹Hì •ë‹µ{"type":"code","answer":"print()"}JSON ì •ë‹µIì¸í’‹/ì•„ì›ƒí’‹input: none, output: Helloí…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤Jë‚œì´ë„11-5 ë‹¨ê³„Kê°ê´€ì‹/ì£¼ê´€ì‹ì£¼ê´€ì‹ë¬¸ì œ ìœ í˜•LTagsê¸°ì´ˆ,ì¶œë ¥íƒœê·¸ ì •ë³´
AWS S3 êµ¬ì¡°
s3://educodingnplaycontents/
â”œâ”€â”€ ent/                          # ENT íŒŒì¼ ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ cpe1-1a.ent              # ì••ì¶•ëœ í”„ë¡œì íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ cpe1-1b.ent
â”‚   â””â”€â”€ uploads/                  # ENT ë‚´ë¶€ ì—ì…‹ (í˜„ì¬ ë¯¸ì‚¬ìš©)
â”‚       â””â”€â”€ temp/
â””â”€â”€ other-assets/                 # ê¸°íƒ€ ì—ì…‹
ENT íŒŒì¼ ë‚´ë¶€ êµ¬ì¡° (TAR ì••ì¶•)
cpe1-1a.ent (TAR.GZ)
â””â”€â”€ temp/
    â”œâ”€â”€ project.json             # EntryJS í”„ë¡œì íŠ¸ ë°ì´í„°
    â”œâ”€â”€ 60/62/image/             # ì´ë¯¸ì§€ íŒŒì¼ë“¤
    â”‚   â””â”€â”€ 6062p3x0...png
    â”œâ”€â”€ yk/c6/image/
    â”‚   â””â”€â”€ ykc640e3...png
    â””â”€â”€ [ê¸°íƒ€ ì—ì…‹ ë””ë ‰í† ë¦¬ë“¤]

ğŸ”„ ë°ì´í„° íë¦„ ìƒì„¸
1. í”„ë¡œì íŠ¸ ë¡œë“œ í”Œë¡œìš°
1. ì‚¬ìš©ìê°€ entry_project.ejsì—ì„œ ì¹´ë“œ í´ë¦­
   â†“
2. 3000ë²ˆ: /entry/entry_editor?s3Url=https://...cpe1-1a.ent
   â†“
3. 3000ë²ˆ: entryRouter.js â†’ S3 URL íŒŒë¼ë¯¸í„° í™•ì¸
   â†“
4. 3000ë²ˆ: entFileManager.loadProjectFromS3() ì‹¤í–‰
   â”œâ”€ downloadFromS3() â†’ ENT íŒŒì¼ ë‹¤ìš´ë¡œë“œ
   â”œâ”€ parseEntFile() â†’ TAR ì••ì¶• í•´ì œ
   â”œâ”€ copyAssetsToFixedPath() â†’ ì´ë¯¸ì§€ë¥¼ current/ì— ë³µì‚¬
   â””â”€ project.json íŒŒì‹±
   â†“
5. 3000ë²ˆ: í”„ë¡œì íŠ¸ ë°ì´í„° Base64 ì¸ì½”ë”©
   â†“
6. 3000ë²ˆ: 8070ë²ˆìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
   URL: https://app.codingnplay.co.kr:8070/?userID=xxx&project=base64data
   â†“
7. 8070ë²ˆ: app.mjsì—ì„œ URL íŒŒë¼ë¯¸í„° ë””ì½”ë”©
   â†“
8. 8070ë²ˆ: Entry.loadProject(projectData) ì‹¤í–‰
   â†“
9. EntryJS: ì´ë¯¸ì§€ ë¡œë“œ ì‹œë„ (/entry/temp/...)
   â†“
10. Apache: Alias ì„¤ì •ìœ¼ë¡œ ë¡œì»¬ íŒŒì¼ ì„œë¹™
2. ì´ë¯¸ì§€ ë¡œë“œ í”Œë¡œìš°
EntryJS â†’ /entry/temp/60/62/image/6062p3x0...png ìš”ì²­
         â†“
Apache Alias ì„¤ì • í™•ì¸
         â†“
/var/www/html/temp/ent_files/current/60/62/image/6062p3x0...png ì„œë¹™


========================
8|server  | ğŸš€ S3 ENT íŒŒì¼ ë¡œë“œ ì‹œì‘: https://educodingnplaycontents.s3.amazonaws.com/ent/cpe1-1a.ent
8|server  | ğŸŒ S3 ë‹¤ìš´ë¡œë“œ ì‹œì‘: https://educodingnplaycontents.s3.amazonaws.com/ent/cpe1-1a.ent
8|server  | âœ… S3 ë‹¤ìš´ë¡œë“œ ì™„ë£Œ: 287699 bytes (281.0 KB)
8|server  | ğŸ”§ ENT íŒŒì¼ íŒŒì‹± ì‹œì‘: /var/www/html/temp/ent_files/parse_1754372027862_eeot6jr0a/downloaded.ent
8|server  | ğŸ“¦ ENT ë²„í¼ í¬ê¸°: 287699 bytes
8|server  | ğŸ“ ì„ì‹œ ë””ë ‰í† ë¦¬ ìƒì„±: /var/www/html/temp/ent_files/parse_1754372027862_eeot6jr0a
8|server  | ğŸ’¾ ENT íŒŒì¼ ì €ì¥ ì™„ë£Œ: /var/www/html/temp/ent_files/parse_1754372027862_eeot6jr0a/downloaded.ent
8|server  | ğŸ—œï¸ TAR ì••ì¶• í•´ì œ ì‹œì‘...
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/project.json (File, 11356 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/62/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/85/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/u5/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ei/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/c6/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/62/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/62/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/85/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/85/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/u5/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/u5/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ei/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ei/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/c6/image/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/c6/thumb/ (Directory, 0 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/62/image/6062p3x0lntpspgt1e105cc911bcbgdc.png (File, 13071 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/60/62/thumb/6062p3x0lntpspgt1e105cc911bcbgdc.png (File, 3446 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/85/image/f185o7qblntpspgt1e105cc911bcalg9.png (File, 35616 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/f1/85/thumb/f185o7qblntpspgt1e105cc911bcalg9.png (File, 6817 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/u5/image/gau5590mlntpspgt1e105cc911bc9xs8.png (File, 33598 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/ga/u5/thumb/gau5590mlntpspgt1e105cc911bc9xs8.png (File, 6530 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ei/image/i0eioq0jlntpspgt1e105cc911bc9agb.png (File, 35199 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/i0/ei/thumb/i0eioq0jlntpspgt1e105cc911bc9agb.png (File, 6778 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/image/p6bwclgllntpspgt1e105cc911bcc457.png (File, 68158 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/image/p6bwclgllntpspgt1e105cc911bcc457.svg (File, 86675 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/p6/bw/thumb/p6bwclgllntpspgt1e105cc911bcc457.png (File, 8879 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/c6/image/ykc640e3lntpspgt1e105cc911bc8cc6.png (File, 35781 bytes)
8|server  | ğŸ“„ ì••ì¶• í•´ì œ ì¤‘: temp/yk/c6/thumb/ykc640e3lntpspgt1e105cc911bc8cc6.png (File, 6831 bytes)
8|server  | âœ… TAR ì••ì¶• í•´ì œ ì™„ë£Œ
8|server  | ğŸ“‚ ì••ì¶• í•´ì œëœ íŒŒì¼ë“¤: [ 'downloaded.ent', 'temp' ]
8|server  | ğŸ“„ project.json ë°œê²¬: /var/www/html/temp/ent_files/parse_1754372027862_eeot6jr0a/temp/project.json
8|server  | ğŸ“– project.json í¬ê¸°: 11172 ë¬¸ì
8|server  | âœ… project.json íŒŒì‹± ì™„ë£Œ: { objects: 3, scenes: 1, variables: 2 }
8|server  | âœ… ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ ê³ ì • ê²½ë¡œì— ë³µì‚¬ ì™„ë£Œ: /var/www/html/temp/ent_files/current
8|server  | ì„ì‹œ ë””ë ‰í† ë¦¬ ë³´ì¡´ (í…ŒìŠ¤íŠ¸ìš©): /var/www/html/temp/ent_files/parse_1754372027862_eeot6jr0a
8|server  | ğŸ‰ S3 ENT íŒŒì¼ ë¡œë“œ ì„±ê³µ! {
8|server  |   fileName: 'cpe1-1a.ent',
8|server  |   fileSize: '281.0 KB',
8|server  |   objects: 3,
8|server  |   scenes: 1
8|server  | }
8|server  | [Service Detection] Host: 172.31.0.184, Service: codingnplay
8|server  | ìš”ì²­ í”„ë¡œí† ì½œ: http
8|server  | ìš”ì²­ ë„ë©”ì¸: 172.31.0.184
8|server  | ì„¸ì…˜ ìƒíƒœ: Session {
8|server  |   cookie: {
8|server  |     path: '/',
8|server  |     _expires: 2025-08-05T06:33:51.684Z,
8|server  |     originalMaxAge: 3600000,
8|server  |     httpOnly: true,
8|server  |     secure: false,
8|server  |     sameSite: 'lax',
8|server  |     domain: '.codingnplay.co.kr'
8|server  |   }
8|server  | }

ğŸ“ ê´€ë ¨ íŒŒì¼ ë° ì˜ì¡´ì„±
ğŸ¯ í•µì‹¬ íŒŒì¼
3000ë²ˆ ì„œë²„ (ë©”ì¸)
ë¼ìš°í„° íŒŒì¼

routes/entryRouter.js - Entry ë©”ì¸ ë¼ìš°í„°
routes/api/entryFileRouter.js - ENT íŒŒì¼ ì²˜ë¦¬ API

í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

lib/entFileManager.js - ENT íŒŒì¼ ê´€ë¦¬ (S3 ë‹¤ìš´ë¡œë“œ/íŒŒì‹±)
lib/s3Manager.js - S3 ì—°ë™ ìœ í‹¸ë¦¬í‹°
lib/googleSheetsManager.js - Google Sheets ì—°ë™

í…œí”Œë¦¿ íŒŒì¼

views/entry_project.ejs - í”„ë¡œì íŠ¸ ì¹´ë“œ ëª©ë¡ í˜ì´ì§€
views/partials/header.ejs - ê³µí†µ í—¤ë”

8070ë²ˆ ì„œë²„ (EntryJS)
ë©”ì¸ íŒŒì¼

server.js - Express ì„œë²„ ì„¤ì •
index.html - EntryJS Base ì˜ˆì œ í…œí”Œë¦¿

JavaScript ëª¨ë“ˆ

js/app.mjs - ë©”ì¸ ì•± ëª¨ë“ˆ
js/projectLoader.mjs - í”„ë¡œì íŠ¸ ë¡œë” (êµ¬í˜„ ì˜ˆì •)
js/entry-minimal-dataapi.js - DataAPI ì„¤ì •

ì„¤ì • íŒŒì¼

/etc/apache2/sites-available/000-default.conf - Apache í”„ë¡ì‹œ/Alias ì„¤ì •
ecosystem.config.js - PM2 ì„¤ì • (8070ë²ˆ)

ğŸ”— ì˜ì¡´ì„± ë§¤íŠ¸ë¦­ìŠ¤
êµ¬ì„±ìš”ì†Œì˜ì¡´ì„±ë²„ì „ì—­í• 3000ë²ˆ ì„œë²„â””â”€ entFileManagertar, node-fetch, fs/promiseslatestENT íŒŒì¼ ì²˜ë¦¬â””â”€ Google Sheetsgoogleapis^108.0.0ë©”íƒ€ë°ì´í„° ì¡°íšŒâ””â”€ AWS SDK@aws-sdk/client-s3^3.xS3 íŒŒì¼ ë‹¤ìš´ë¡œë“œ8070ë²ˆ ì„œë²„â””â”€ EntryJS@entrylabs/entry4.0.20ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì—”ì§„â””â”€ Entry-tool@entrylabs/tool2.0.8íŒì—… ì‹œìŠ¤í…œâ””â”€ Legacy Video@entrylabs/legacy-video1.0.1ë¹„ë””ì˜¤ ì§€ì›í´ë¼ì´ì–¸íŠ¸â””â”€ marked.js-4.3.0ë§ˆí¬ë‹¤ìš´ ë Œë”ë§â””â”€ highlight.js-11.9.0ì½”ë“œ í•˜ì´ë¼ì´íŒ…

ğŸ”§ í•µì‹¬ ë©”ì„œë“œ ëª…ì„¸
3000ë²ˆ ì„œë²„ ë©”ì„œë“œ
EntFileManager.loadProjectFromS3(s3Url)
javascript/**
 * S3ì—ì„œ ENT íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° íŒŒì‹±
 * @param {string} s3Url - S3 ENT íŒŒì¼ URL
 * @returns {Object} - {success, projectData, fileName, metadata}
 */
ì‹¤í–‰ ê³¼ì •:

URL ìœ íš¨ì„± ê²€ì‚¬
downloadFromS3() - fetchë¡œ S3 íŒŒì¼ ë‹¤ìš´ë¡œë“œ
parseEntFile() - tar ëª¨ë“ˆë¡œ ì••ì¶• í•´ì œ
copyAssetsToFixedPath() - ì´ë¯¸ì§€ë¥¼ current ë””ë ‰í† ë¦¬ì— ë³µì‚¬
project.json íŒŒì‹± ë° ë°˜í™˜

entryRouter.js ì£¼ìš” ë¼ìš°íŠ¸
javascript// ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë¼ìš°íŠ¸
GET /entry/entry_editor?s3Url=...

// ENT íŒŒì¼ ë¡œë“œ API
GET /entry/api/load-project?file=cpe1-1a.ent

// ì¸ì¦ ê²€ì¦ API  
GET /entry/api/verify-auth
8070ë²ˆ ì„œë²„ ë©”ì„œë“œ
app.mjs ì£¼ìš” í•¨ìˆ˜
javascript/**
 * URL íŒŒë¼ë¯¸í„°ì—ì„œ í”„ë¡œì íŠ¸ ë°ì´í„° ì¶”ì¶œ ë° ë¡œë“œ
 */
async function loadProjectFromParams() {
    const params = new URLSearchParams(window.location.search);
    const projectParam = params.get('project');
    
    if (projectParam) {
        const projectData = JSON.parse(atob(projectParam));
        Entry.loadProject(projectData);
    }
}
Google Sheets ì—°ë™
getSheetData(range)
javascript/**
 * Google Sheetsì—ì„œ ë°ì´í„° ì¡°íšŒ
 * @param {string} range - ì˜ˆ: "problems!A1:L1000"
 * @returns {Array} - ì‹œíŠ¸ ë°ì´í„° ë°°ì—´
 */

ğŸŒ API ì—”ë“œí¬ì¸íŠ¸ í˜„í™©
3000ë²ˆ ì„œë²„ API
ë©”ì„œë“œì—”ë“œí¬ì¸íŠ¸ì„¤ëª…ìƒíƒœGET/entry/entry_editorEntryJS ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì ‘ê·¼âœ… ì‘ë™GET/entry/api/load-projectENT íŒŒì¼ ë¡œë“œâœ… ì‘ë™GET/entry/api/verify-authì¸ì¦ ê²€ì¦âœ… ì‘ë™POST/entry/api/save-projectí”„ë¡œì íŠ¸ ì €ì¥ğŸ”„ êµ¬í˜„ ì˜ˆì •GET/entry/api/projectsí”„ë¡œì íŠ¸ ëª©ë¡ğŸ”„ êµ¬í˜„ ì˜ˆì •
8070ë²ˆ ì„œë²„ API
ë©”ì„œë“œì—”ë“œí¬ì¸íŠ¸ì„¤ëª…ìƒíƒœGET/EntryJS ì›Œí¬ìŠ¤í˜ì´ìŠ¤âœ… ì‘ë™GET/healthí—¬ìŠ¤ ì²´í¬âœ… ì‘ë™GET/temp/*ENT ì´ë¯¸ì§€ ì •ì  ì„œë¹™ğŸ”§ ì„¤ì • ì¤‘
Google Sheets API
ë©”ì„œë“œì—”ë“œí¬ì¸íŠ¸ì„¤ëª…ìƒíƒœGET/api/problems/:examNameë¬¸ì œ ëª©ë¡ ì¡°íšŒâœ… ì‘ë™GET/api/problem/:examName/:numíŠ¹ì • ë¬¸ì œ ì¡°íšŒâœ… ì‘ë™

ğŸ”§ ì„¤ì • íŒŒì¼ í˜„í™©
Apache ì„¤ì • (í•µì‹¬ ë¶€ë¶„)
apache# ENT ì´ë¯¸ì§€ ì •ì  íŒŒì¼ ì„œë¹™
Alias /entry/temp /var/www/html/temp/ent_files/current
<Directory "/var/www/html/temp/ent_files/current">
    Options FollowSymLinks
    AllowOverride None
    Require all granted
    Header always set Access-Control-Allow-Origin "*"
</Directory>

# EntryJS í”„ë¡ì‹œ (ì˜ˆì™¸ ì„¤ì • í•„ìš”)
ProxyPass /entry/temp !  # ğŸ”§ ì¶”ê°€ í•„ìš”
ProxyPass /entry/api/load-project http://localhost:3000/entry/api/load-project
ProxyPass /entry/ http://localhost:8070/
PM2 ì„¤ì •
javascript// 3000ë²ˆ ì„œë²„
{
  name: 'server',
  script: './server.js',
  instances: 1,
  port: 3000
}

// 8070ë²ˆ ì„œë²„  
{
  name: 'entry-server',
  script: './server.js',
  cwd: '/var/www/html/entry',
  port: 8070
}

ğŸš¨ í˜„ì¬ ì´ìŠˆ ë° í•´ê²° ê³¼ì •
ğŸ”§ ì§„í–‰ ì¤‘ ì´ìŠˆ
ì´ë¯¸ì§€ ë¡œë“œ 404 ì˜¤ë¥˜

ë¬¸ì œ: /entry/temp/ ê²½ë¡œ ì´ë¯¸ì§€ íŒŒì¼ 404 ì˜¤ë¥˜
ì›ì¸: Apache ProxyPassê°€ Aliasë³´ë‹¤ ìš°ì„  ì²˜ë¦¬ë¨
í•´ê²°ì±…: ProxyPass /entry/temp ! ì˜ˆì™¸ ì„¤ì • í•„ìš”

âœ… í•´ê²°ëœ ì´ìŠˆ

ENT íŒŒì¼ íŒŒì‹± ì„±ê³µ - entFileManager.js êµ¬í˜„ ì™„ë£Œ
í”„ë¡œì íŠ¸ ë°ì´í„° ë¡œë“œ ì„±ê³µ - Entry.loadProject() ì •ìƒ ì‘ë™
ì´ë¯¸ì§€ íŒŒì¼ ë³µì‚¬ ì„±ê³µ - copyAssetsToFixedPath() êµ¬í˜„ ì™„ë£Œ


ğŸ“‹ í–¥í›„ êµ¬í˜„ ê³„íš
Phase 2: ENT íŒŒì¼ ì €ì¥ ê¸°ëŠ¥
javascript// 8070ë²ˆ â†’ 3000ë²ˆ ì €ì¥ ìš”ì²­
POST /entry/api/save-project
{
  projectData: Entry.exportProject(),
  fileName: "ë‚´í”„ë¡œì íŠ¸",
  metadata: {...}
}

// 3000ë²ˆì—ì„œ ENT íŒŒì¼ ìƒì„± â†’ S3 ì—…ë¡œë“œ
entFileManager.createEntFile(projectData, fileName, userID)
Phase 3: ì‚¬ìš©ì í”„ë¡œì íŠ¸ ê´€ë¦¬

ë‚´ ì‘í’ˆ ëª©ë¡ í˜ì´ì§€
í”„ë¡œì íŠ¸ ê³µìœ  ê¸°ëŠ¥
ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ


ğŸ” ë””ë²„ê¹… ë„êµ¬
ë¸Œë¼ìš°ì € ì½˜ì†” ëª…ë ¹ì–´
javascript// EntryJS ìƒíƒœ í™•ì¸
console.log('Entry ê°ì²´:', window.Entry);
console.log('í˜„ì¬ í”„ë¡œì íŠ¸:', Entry.exportProject());

// ì´ë¯¸ì§€ ë¡œë“œ ìƒíƒœ í™•ì¸
document.querySelectorAll('img').forEach(img => {
    if (!img.complete) console.log('ë¡œë“œ ì‹¤íŒ¨:', img.src);
});
ì„œë²„ ë¡œê·¸ í™•ì¸
bash# 3000ë²ˆ ì„œë²„ ë¡œê·¸
sudo pm2 logs 0 | grep -E "(ENT|S3|entFileManager)"

# 8070ë²ˆ ì„œë²„ ë¡œê·¸  
sudo pm2 logs entry-server

# Apache ì˜¤ë¥˜ ë¡œê·¸
sudo tail -f /var/log/apache2/error.log

ğŸ“Š ì„±ëŠ¥ ì§€í‘œ
í˜„ì¬ ì„±ëŠ¥

ENT íŒŒì¼ ë‹¤ìš´ë¡œë“œ: ~2-3ì´ˆ (íŒŒì¼ í¬ê¸°ì— ë”°ë¼)
í”„ë¡œì íŠ¸ íŒŒì‹±: ~1ì´ˆ
ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë¡œë“œ: ~3-5ì´ˆ
ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: 3000ë²ˆ(150MB), 8070ë²ˆ(60MB)

ìµœì í™” ëª©í‘œ

ENT íŒŒì¼ ìºì‹±ìœ¼ë¡œ ë¡œë“œ ì‹œê°„ 50% ë‹¨ì¶•
ì´ë¯¸ì§€ ì••ì¶•ìœ¼ë¡œ ì „ì†¡ëŸ‰ 30% ê°ì†Œ
ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 20% ìµœì í™”


ğŸ“ ì‘ì„±ì: AI Assistant
ğŸ“… ìµœì¢… ì—…ë°ì´íŠ¸: 2025ë…„ 8ì›” 2ì¼
ğŸ”„ ë¬¸ì„œ ë²„ì „: 1.0
ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ: ğŸŸ¡ ìš´ì˜ ì¤‘ (ì´ë¯¸ì§€ ë¡œë“œ ì´ìŠˆ í•´ê²° ì¤‘)