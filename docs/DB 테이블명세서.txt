educodingnplay DB êµ¬ì¡° ëª…ì„¸ì„œ (í•™ìŠµ ë¡œê·¸ ì‹œìŠ¤í…œ)
ì‘ì„±ì¼: 2025ë…„ 1ì›” 2ì¼
ëª©ì : í•™ìƒ ì§„ë„ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ êµ¬í˜„ì„ ìœ„í•œ DB êµ¬ì¡° íŒŒì•…

ğŸ“Š í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°
1. Users - ì‚¬ìš©ì ì •ë³´
sql+-----------------+---------+------+-----+
| Field           | Type    | Null | Key |
+-----------------+---------+------+-----+
| id              | int     | NO   | PRI |
| userID          | varchar | YES  |     |
| password        | varchar | NO   |     |
| email           | varchar | NO   |     |
| name            | varchar | YES  |     |
| phone           | varchar | YES  |     |
| birthdate       | date    | YES  |     |
| role            | enum    | NO   |     | 
| centerID        | int     | YES  | MUL |
| created_at      | timestamp| YES |     |
| profile_image   | varchar | YES  |     |
| last_board_visit| timestamp| YES |     |
+-----------------+---------+------+-----+

role ê°’: 'admin', 'kinder', 'school', 'manager', 'teacher', 'student', 'guest'
í•µì‹¬ í¬ì¸íŠ¸:

centerIDë¡œ ì„¼í„°ë³„ ê·¸ë£¹í•‘ (í•™ìƒ-êµì‚¬ ë§¤í•‘ì˜ ê¸°ì¤€)
roleë¡œ ê¶Œí•œ ê´€ë¦¬


2. LearningLogs - í•™ìŠµ ì„¸ì…˜ ê¸°ë¡
sql+--------------+--------------+------+-----+
| Field        | Type         | Null | Key |
+--------------+--------------+------+-----+
| learning_id  | int          | NO   | PRI |
| user_id      | int          | NO   | MUL |
| content_type | varchar(50)  | YES  |     |
| content_name | varchar(255) | YES  |     |
| start_time   | timestamp    | YES  |     |
| end_time     | timestamp    | YES  |     |
| duration     | int          | YES  |     |
| progress     | int          | YES  |     |
| center_id    | int          | YES  | MUL |
+--------------+--------------+------+-----+
ìš©ë„:

í•™ìŠµ ì„¸ì…˜ ì¶”ì  (ë¬´ì—‡ì„, ì–¼ë§ˆë‚˜, ì–¸ì œ)
duration: ì´ˆ ë‹¨ìœ„ í•™ìŠµ ì‹œê°„
progress: ì§„ë„ìœ¨ (%)
center_id: ì„¼í„°ë³„ í†µê³„ ì§‘ê³„ìš©


3. MenuAccessLogs - ë©”ë‰´ ì ‘ê·¼ ê¸°ë¡
sql+-------------+--------------+------+-----+
| Field       | Type         | Null | Key |
+-------------+--------------+------+-----+
| access_id   | int          | NO   | PRI |
| user_id     | int          | NO   | MUL |
| menu_name   | varchar(100) | YES  |     |
| access_time | timestamp    | YES  |     |
| duration    | int          | YES  |     |
| center_id   | int          | YES  | MUL |
+-------------+--------------+------+-----+
ìš©ë„:

ë©”ë‰´ í´ë¦­ ì¶”ì 
ì–´ë–¤ ì½˜í…ì¸ ì— ê´€ì‹¬ì´ ë§ì€ì§€ íŒŒì•…


4. QuizResults - í€´ì¦ˆ ì œì¶œ ê¸°ë¡
sql+-------------------+--------------+------+-----+
| Field             | Type         | Null | Key |
+-------------------+--------------+------+-----+
| id                | int          | NO   | PRI |
| user_id           | int          | NO   | MUL |
| exam_name         | varchar(255) | NO   |     |
| problem_number    | varchar(10)  | NO   |     |
| user_answer       | text         | YES  |     |
| is_correct        | tinyint(1)   | NO   |     |
| timestamp         | datetime     | NO   |     |
| execution_results | text         | YES  |     |
+-------------------+--------------+------+-----+
ìš©ë„:

ë¬¸ì œë³„ ì •ë‹µë¥  ì¶”ì 
í•™ìƒë³„ ì„±ì·¨ë„ í‰ê°€


5. LearningRecords - í”Œë«í¼ë³„ í•™ìŠµ ê¸°ë¡
sql+-------------+----------------------------------------+------+-----+
| Field       | Type                                   | Null | Key |
+-------------+----------------------------------------+------+-----+
| id          | int                                    | NO   | PRI |
| user_id     | int                                    | NO   | MUL |
| platform    | enum('scratch','entry','online_judge') | NO   |     |
| record_data | text                                   | NO   |     |
| created_at  | timestamp                              | YES  |     |
+-------------+----------------------------------------+------+-----+
ìš©ë„:

Scratch, Entry ë“± ì™¸ë¶€ í”Œë«í¼ ì—°ë™ ë°ì´í„°
record_data: JSON í˜•ì‹ ì €ì¥


6. UserActivityLogs - ì‚¬ìš©ì í™œë™ ë¡œê·¸
sql+-------------+--------------+------+-----+
| Field       | Type         | Null | Key |
+-------------+--------------+------+-----+
| (êµ¬ì¡° ë¯¸í™•ì¸, í•˜ì§€ë§Œ ì¡´ì¬)        |
| user_id     | int          |      |     |
| action_type | varchar      |      |     |
| url         | varchar      |      |     |
| ip_address  | varchar      |      |     |
| user_agent  | text         |      |     |
| created_at  | timestamp    |      |     |
+-------------+--------------+------+-----+
ìš©ë„:

í˜ì´ì§€ ì ‘ì† ë¡œê·¸
í™œë™ ì‹œê°„ ì¶”ì 


ğŸ¯ êµì‚¬-í•™ìƒ ë§¤í•‘ êµ¬ì¡°
centerID ê¸°ë°˜ ë§¤í•‘ (í˜„ì¬ êµ¬í˜„)
êµì‚¬ (teacher/manager)
â”œâ”€â”€ centerID: 11
â””â”€â”€ ê´€ë¦¬ ê°€ëŠ¥ í•™ìƒë“¤:
    â”œâ”€â”€ student1 (centerID: 11)
    â”œâ”€â”€ student2 (centerID: 11)
    â””â”€â”€ student3 (centerID: 11)

admin
â””â”€â”€ ëª¨ë“  centerID ì ‘ê·¼ ê°€ëŠ¥
íŠ¹ì§•:

ë³„ë„ ë§¤í•‘ í…Œì´ë¸” ì—†ìŒ
Users.centerIDë¡œ ì§ì ‘ í•„í„°ë§
ê°„ë‹¨í•˜ê³  ì§ê´€ì 


ğŸ” ê¶Œí•œ ì²´ê³„
ì—­í• ë³„ ì ‘ê·¼ ê¶Œí•œ
RolecenterIDí•™ìƒ ê´€ë¦¬ì „ì²´ ì„¼í„° ì ‘ê·¼adminëª¨ë“  ì„¼í„°ì „ì²´âœ…managerìê¸° ì„¼í„°ìê¸° ì„¼í„°ë§ŒâŒteacherìê¸° ì„¼í„°ìê¸° ì„¼í„°ë§ŒâŒstudentìê¸° ì„¼í„°ë³¸ì¸ë§ŒâŒ

ğŸ“¡ êµ¬í˜„ëœ API ì—”ë“œí¬ì¸íŠ¸
teacherRouter.js
javascript// í•™ìƒ ê´€ë¦¬
GET    /teacher/api/students                    // í•™ìƒ ëª©ë¡
POST   /teacher/api/students                    // í•™ìƒ ì¶”ê°€
PUT    /teacher/api/students/:id                // í•™ìƒ ìˆ˜ì •
DELETE /teacher/api/students/:id                // í•™ìƒ ì‚­ì œ

// í•™ìƒ ì •ë³´ ì¡°íšŒ
GET    /teacher/api/students/:id/profile        // í”„ë¡œí•„
GET    /teacher/api/students/:id/logs           // í™œë™ ë¡œê·¸ (UserActivityLogs)
GET    /teacher/api/students/:id/learning-logs  // í•™ìŠµ ë¡œê·¸ (LearningLogs)
GET    /teacher/api/students/:id/quiz-results   // í€´ì¦ˆ ê²°ê³¼ (QuizResults)
GET    /teacher/api/students/:id/stats          // í†µê³„ ìš”ì•½
ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´
javascriptrequireTeacher         // teacher/manager/adminë§Œ ì ‘ê·¼
checkSameCenter        // ê°™ì€ centerIDë§Œ ì ‘ê·¼ (admin ì œì™¸)

ğŸ“Š í†µê³„ ê³„ì‚° ë¡œì§
í•™ìƒ í†µê³„ API (/api/students/:id/stats)
javascript{
  totalLearningTime: SUM(LearningLogs.duration),
  sessionCount: COUNT(LearningLogs),
  totalQuizzes: COUNT(QuizResults),
  correctCount: SUM(QuizResults.is_correct),
  accuracy: (correctCount / totalQuizzes * 100),
  lastAccess: MAX(UserActivityLogs.created_at)
}
educodingnplay DB êµ¬ì¡° ëª…ì„¸ì„œ (í•™ìŠµ ë¡œê·¸ ì‹œìŠ¤í…œ)
ì‘ì„±ì¼: 2025ë…„ 1ì›” 2ì¼ / ìˆ˜ì •: 2025ë…„ 10ì›” 3ì¼
ëª©ì : í•™ìƒ ì§„ë„ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ êµ¬í˜„ì„ ìœ„í•œ DB êµ¬ì¡° íŒŒì•…

ğŸ“Š í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°

1. Users - ì‚¬ìš©ì ì •ë³´
+---------------------+-----------------------------------------------------------------------+------+-----+
| Field               | Type                                                                  | Null | Key | 
+---------------------+-----------------------------------------------------------------------+------+-----+
| id                  | int                                                                   | NO   | PRI |
| userID              | varchar(255)                                                          | YES  | UNI |
| password            | varchar(255)                                                          | NO   |     |
| email               | varchar(255)                                                          | NO   |     |
| name                | varchar(255)                                                          | YES  |     |
| phone               | varchar(20)                                                           | YES  |     |
| birthdate           | date                                                                  | YES  |     |
| role                | enum('admin','kinder','school','manager','teacher','student','guest') | NO   |     |
| subscription_status | enum('active','inactive','expired')                                   | YES  |     |
| subscription_expiry | date                                                                  | YES  |     |
| created_at          | timestamp                                                             | YES  |     |
| centerID            | int                                                                   | YES  | MUL |
| profile_image       | varchar(255)                                                          | YES  |     |
| last_board_visit    | timestamp                                                             | YES  |     |
+---------------------+-----------------------------------------------------------------------+------+-----+

2. LearningLogs - í•™ìŠµ ì„¸ì…˜ ê¸°ë¡
+--------------+--------------+------+-----+
| Field        | Type         | Null | Key |
+--------------+--------------+------+-----+
| learning_id  | int          | NO   | PRI |
| user_id      | int          | NO   | MUL |
| content_type | varchar(50)  | YES  |     |
| content_name | varchar(255) | YES  |     |
| start_time   | timestamp    | YES  |     |
| end_time     | timestamp    | YES  |     |
| duration     | int          | YES  |     |
| progress     | int          | YES  |     |
| center_id    | int          | YES  | MUL |
+--------------+--------------+------+-----+

ë ˆì½”ë“œ ìˆìŒ (2703ê°œ)
ìµœê·¼ í•­ëª© í™•ì¸ë¨

3. LearningRecords - ì™¸ë¶€ í”Œë«í¼ í•™ìŠµ ë°ì´í„°
+-------------+----------------------------------------+------+-----+-------------------+-------------------+
| Field       | Type                                   | Null | Key | Default           | Extra             |
+-------------+----------------------------------------+------+-----+-------------------+-------------------+
| id          | int                                    | NO   | PRI | NULL              | auto_increment    |
| user_id     | int                                    | NO   | MUL | NULL              |                   |
| platform    | enum('scratch','entry','online_judge') | NO   |     | NULL              |                   |
| record_data | text                                   | NO   |     | NULL              |                   |
| created_at  | timestamp                              | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED |
+-------------+----------------------------------------+------+-----+-------------------+-------------------+

ë ˆì½”ë“œ ì—†ìŒ (0ê°œ)

4. UserActivityLogs - ì‚¬ìš©ì í™œë™ ë¡œê·¸
+---------------+--------------+------+-----+-------------------+-------------------+
| Field         | Type         | Null | Key | Default           | Extra             |
+---------------+--------------+------+-----+-------------------+-------------------+
| log_id        | int          | NO   | PRI | NULL              | auto_increment    |
| user_id       | int          | NO   | MUL | NULL              |                   |
| center_id     | int          | YES  | MUL | NULL              |                   |
| action_type   | varchar(50)  | NO   |     | NULL              |                   |
| action_detail | text         | YES  |     | NULL              |                   |
| url           | varchar(255) | YES  |     | NULL              |                   |
| ip_address    | varchar(45)  | YES  |     | NULL              |                   |
| user_agent    | varchar(255) | YES  |     | NULL              |                   |
| created_at    | timestamp    | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED |
+---------------+--------------+------+-----+-------------------+-------------------+

ë ˆì½”ë“œ 316,845ê°œ ì¡´ì¬

5. PortfolioProjectLogs - í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë¡
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int          | NO   | PRI | NULL    | auto_increment |
| project_id | varchar(36)  | NO   | MUL | NULL    |                |
| user_id    | varchar(50)  | NO   | MUL | NULL    |                |
| action     | varchar(50)  | NO   |     | NULL    |                |
| ip_address | varchar(45)  | YES  |     | NULL    |                |
| user_agent | varchar(255) | YES  |     | NULL    |                |
| created_at | datetime     | NO   |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+

ë ˆì½”ë“œ ì—†ìŒ (0ê°œ)

6. MenuAccessLogs - ë©”ë‰´ ì ‘ê·¼ ë¡œê·¸
+-------------+--------------+------+-----+-------------------+-------------------+
| Field       | Type         | Null | Key | Default           | Extra             |
+-------------+--------------+------+-----+-------------------+-------------------+
| access_id   | int          | NO   | PRI | NULL              | auto_increment    |
| user_id     | int          | NO   | MUL | NULL              |                   |
| menu_name   | varchar(100) | YES  |     | NULL              |                   |
| access_time | timestamp    | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED |
| duration    | int          | YES  |     | NULL              |                   |
| center_id   | int          | YES  | MUL | NULL              |                   |
+-------------+--------------+------+-----+-------------------+-------------------+

ë ˆì½”ë“œ 497ê°œ ì¡´ì¬

ğŸ“Œ ì£¼ì˜: created_at ì»¬ëŸ¼ì´ ì•„ë‹Œ access_time ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ í•„ìš”

(ì´ ì™¸ì— QuizResults ë“± ê¸°ì¡´ í•­ëª©ì€ ìƒëµ)