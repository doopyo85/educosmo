educodingnplay í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡° íŒŒì•… (ì—…ë°ì´íŠ¸)
ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”
ì½”ë”©ì•¤í”Œë ˆì´ - ì´ˆì¤‘ê³  í•™ìƒ ëŒ€ìƒ ì½”ë”© êµìœ¡ í”Œë«í¼

ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Server (MVC)          Client (Components)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Express + EJS    â†”    EventBus ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸   â”‚
â”‚ MySQL + Redis    â†”    4ëŒ€ í•µì‹¬ ì»´í¬ë„ŒíŠ¸        â”‚
â”‚ Google Sheets    â†”    ë™ì  ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ‘¥ ì‚¬ìš©ì ê¶Œí•œ ì²´ê³„ (7ë‹¨ê³„)
admin (ìµœê³  ê´€ë¦¬ì)
â”œâ”€â”€ manager (ì„¼í„°ì¥)
â”œâ”€â”€ teacher (ê°•ì‚¬)  
â”œâ”€â”€ kinder (ìœ ì¹˜ì›)
â”œâ”€â”€ school (í•™êµ)
â”œâ”€â”€ student (í•™ìƒ)
â””â”€â”€ guest (ë¹„ë¡œê·¸ì¸)

ğŸ“š êµìœ¡ ì½˜í…ì¸  êµ¬ì¡°
ì´ˆë“± ê³¼ì •

ì»´í“¨í„° ê¸°ì´ˆí™œìš©
ìŠ¤í¬ë˜ì¹˜ (8601 í¬íŠ¸)
ì—”íŠ¸ë¦¬ (8070 í”„ë¡ì‹œ)
ìê²©ì¦ê³¼ì •

ì¤‘ê³ ë“± ê³¼ì •

ì•±ì¸ë²¤í„° (8888 í¬íŠ¸)
íŒŒì´ì¬
ì¸ê³µì§€ëŠ¥
ì•Œê³ ë¦¬ì¦˜


ğŸ”§ 4ëŒ€ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ
1. NavigationComponent

ì‚¬ì´ë“œë°” ë©”ë‰´
ë¬¸ì œ ëª©ë¡ í‘œì‹œ
ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§

2. ContentComponent

ë¬¸ì œ ë‚´ìš© í‘œì‹œ (iframe)
ë§ˆí¬ë‹¤ìš´ ë Œë”ë§
í•´ì„¤ íŒì—… ê´€ë¦¬
ë¬¸ì œ ë„¤ë¹„ê²Œì´ì…˜ (ì´ì „/ë‹¤ìŒ)

3. IDEComponent (íŒŒì´ì¬ ì „ìš©)

êµ¬ì„±: CodeEditor + Terminal + PythonAutoCompleter
ê¸°ëŠ¥:

ACE Editor ê¸°ë°˜ ì½”ë“œ ì‘ì„±
Python ì½”ë“œ ì‹¤í–‰ (/api/run-python)
ì •ë‹µ ì½”ë“œ ë³´ê¸° (êµì‚¬/ê´€ë¦¬ì)
ì›ë³¸ ì½”ë“œ ë³µì›



4. JupyterComponent (ğŸ”¥ ìƒˆë¡œ ì¶”ê°€)

êµ¬ì„±: Jupyter Notebook iframe
ê¸°ëŠ¥:

ì‚¬ìš©ìë³„ ê²©ë¦¬ëœ ë…¸íŠ¸ë¶ í™˜ê²½
í…œí”Œë¦¿ ê¸°ë°˜ ë…¸íŠ¸ë¶ ìƒì„±
ë¹ˆ ë…¸íŠ¸ë¶ ìë™ ìƒì„±
IDE ìœ„ì¹˜ ê³µìœ  (ACE â†” Jupyter ì „í™˜)



ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸

QuizComponent (í€´ì¦ˆ ë¬¸ì œ)
PPTViewerComponent (PDF/PPT ë·°ì–´)
ExplanationPopup (í•´ì„¤ íŒì—…)


ğŸ¨ ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ (5ê°€ì§€)
ë ˆì´ì•„ì›ƒí™œì„± ì»´í¬ë„ŒíŠ¸ìš©ë„layout-htmlNavigation + Contentì¼ë°˜ HTML ë¬¸ì œlayout-ideNavigation + Content + IDEíŒŒì´ì¬ ì½”ë”©layout-jupyterNavigation + Content + Jupyterì£¼í”¼í„° ë…¸íŠ¸ë¶layout-quizNavigation + Content + Quizí€´ì¦ˆ ë¬¸ì œlayout-pptNavigation + PPTViewerPDF/PPT ìë£Œ
CSS í´ë˜ìŠ¤ ê¸°ë°˜ ì „í™˜:
css.layout-jupyter .jupyter-container { display: flex !important; }
.layout-ide .ide-container { display: flex !important; }
/* ë‚˜ë¨¸ì§€ëŠ” ìˆ¨ê¹€ */

ğŸ“Š ë°ì´í„° íë¦„
Google Sheets â†’ API â†’ Components
Google Sheets (problems ì‹œíŠ¸)
    â†“
getSheetData() API
    â†“
/api/problems/:examName (ë©”ë‰´ ë°ì´í„°)
/api/problem/:examName/:num (ë¬¸ì œ ìƒì„¸)
    â†“
NavigationComponent (ë©”ë‰´ ë Œë”ë§)
ContentComponent (ë¬¸ì œ í‘œì‹œ)
    â†“
EventBus (menuSelected, problemChanged)
    â†“
IDEComponent / JupyterComponent í™œì„±í™”

ğŸ—„ï¸ Jupyter Notebook í†µí•© ì‹œìŠ¤í…œ (ğŸ”¥ í•µì‹¬ ì—…ë°ì´íŠ¸)
ì•„í‚¤í…ì²˜
ì‚¬ìš©ìë³„ ê²©ë¦¬ + í…œí”Œë¦¿ ì‹œìŠ¤í…œ + íŒŒì¼ ê´€ë¦¬
í´ë” êµ¬ì¡°
jupyter_notebooks/           # ì‚¬ìš©ì ë…¸íŠ¸ë¶ ë£¨íŠ¸
â”œâ”€â”€ admin/                   # ì‚¬ìš©ìë³„ ê²©ë¦¬ í´ë”
â”‚   â”œâ”€â”€ DataAnalysis_admin_2025-01-02.ipynb
â”‚   â”œâ”€â”€ BasicPython_admin_2025-01-02.ipynb
â”‚   â””â”€â”€ MachineLearning_admin_2025-01-01.ipynb
â”œâ”€â”€ user123/
â”‚   â”œâ”€â”€ DataAnalysis_user123_2025-01-02.ipynb
â”‚   â””â”€â”€ Visualization_user123_2025-01-01.ipynb
â””â”€â”€ guest_abc123/
    â””â”€â”€ BasicPython_guest_abc123_2025-01-02.ipynb

jupyter_templates/           # ë…¸íŠ¸ë¶ í…œí”Œë¦¿
â”œâ”€â”€ DataAnalysis_template.ipynb
â”œâ”€â”€ MachineLearning_template.ipynb
â”œâ”€â”€ Visualization_template.ipynb
â””â”€â”€ BasicPython_template.ipynb
Jupyter ì£¼ìš” API
ì—”ë“œí¬ì¸íŠ¸ë©”ì„œë“œê¸°ëŠ¥ì¸ì¦/api/jupyter/create-user-notebookPOSTí…œí”Œë¦¿ ê¸°ë°˜ ë…¸íŠ¸ë¶ ìƒì„±O/api/jupyter/user-notebooksGETì‚¬ìš©ì ë…¸íŠ¸ë¶ ëª©ë¡O/api/jupyter/templatesGETí…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒO/api/jupyter/statusGETì„œë²„ ìƒíƒœ í™•ì¸X
ë…¸íŠ¸ë¶ ìƒì„± íë¦„
í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ (templateType ì§€ì •)
    â†“
POST /api/jupyter/create-user-notebook
    â†“
ensureUserDir(userID) â†’ ì‚¬ìš©ì í´ë” ìƒì„±
    â†“
ê¸°ì¡´ ë…¸íŠ¸ë¶ ì¤‘ë³µ ì²´í¬ (ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì¤€)
    â†“
ì—†ìœ¼ë©´ í…œí”Œë¦¿ ë¡œë“œ â†’ ë³€ìˆ˜ ì¹˜í™˜ â†’ ì €ì¥
    â†“
{templateType}_{userID}_{date}.ipynb ìƒì„±
    â†“
URL ë°˜í™˜: /jupyter/notebooks/{userID}/{filename}
    â†“
iframeì— ë¡œë“œ
í…œí”Œë¦¿ ì‹œìŠ¤í…œ

ë³€ìˆ˜ ì¹˜í™˜: {USER_ID}, {CREATE_DATE}, {TEMPLATE_TYPE} ìë™ ì‚½ì…
ì¤‘ë³µ ë°©ì§€: ê°™ì€ ë‚ ì§œ/í…œí”Œë¦¿ì€ ê¸°ì¡´ íŒŒì¼ ì¬ì‚¬ìš©
ê¶Œí•œ ì²´í¬: ë³¸ì¸ ë˜ëŠ” adminë§Œ ì ‘ê·¼ ê°€ëŠ¥

í•µì‹¬ íŒŒì¼

jupyterRouter.js - API ì—”ë“œí¬ì¸íŠ¸
notebookManager.js - íŒŒì¼ CRUD (ì‚¬ìš©ìë³„ ê²©ë¦¬)
templateManager.js - í…œí”Œë¦¿ ê´€ë¦¬ ë° ë³€ìˆ˜ ì¹˜í™˜
JupyterComponent.js - í´ë¼ì´ì–¸íŠ¸ UI ê´€ë¦¬


ğŸŒ ì„œë²„ í¬íŠ¸ êµ¬ì¡°
Apache :80
â”œâ”€â”€ /entry_editor â†’ 8070 (EntryJS)
â”œâ”€â”€ /scratch â†’ 8601 (Scratch GUI)
â”œâ”€â”€ /jupyter â†’ 8000 (Jupyter Notebook) ğŸ”¥
â”œâ”€â”€ /appinventor â†’ 8888
â””â”€â”€ / â†’ 3000 (ë©”ì¸ Express ì„œë²„)
Jupyter í”„ë¡ì‹œ ì„¤ì •
apacheProxyPass /jupyter http://localhost:8000/
ProxyPassReverse /jupyter http://localhost:8000/

# WebSocket ì§€ì›
ProxyPass /jupyter/api/kernels ws://127.0.0.1:8000/jupyter/api/kernels
ProxyPass /jupyter/terminals/websocket ws://127.0.0.1:8000/jupyter/terminals/websocket

ğŸ“ í•µì‹¬ íŒŒì¼ êµ¬ì¡°
educodingnplay/
â”œâ”€â”€ server.js              # ë©”ì¸ ì„œë²„
â”œâ”€â”€ config.js             # í™˜ê²½ ì„¤ì •
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ index.ejs         # ë©”ì¸ í™ˆ (ìºëŸ¬ì…€)
â”‚   â”œâ”€â”€ header.ejs        # ê³µí†µ í—¤ë”
â”‚   â””â”€â”€ template.ejs      # ë™ì  í˜ì´ì§€ í…œí”Œë¦¿
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ authRouter.js
â”‚   â”œâ”€â”€ learningRouter.js
â”‚   â”œâ”€â”€ templateRouter.js
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ jupyterRouter.js    # ğŸ”¥ Jupyter API
â”œâ”€â”€ lib_login/
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ permissions.js
â”‚   â””â”€â”€ authMiddleware.js
â”œâ”€â”€ lib_jupyter/           # ğŸ”¥ Jupyter ê´€ë¦¬
â”‚   â”œâ”€â”€ notebookManager.js
â”‚   â””â”€â”€ templateManager.js
â”œâ”€â”€ public/js/components/
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ EventBus.js
â”‚   â”‚   â”œâ”€â”€ Component.js
â”‚   â”‚   â”œâ”€â”€ ComponentRegistry.js
â”‚   â”‚   â””â”€â”€ ComponentFactory.js
â”‚   â”œâ”€â”€ nav/NavigationComponent.js
â”‚   â”œâ”€â”€ content/ContentComponent.js
â”‚   â”œâ”€â”€ ide/
â”‚   â”‚   â”œâ”€â”€ IDEComponent.js
â”‚   â”‚   â”œâ”€â”€ CodeEditor.js
â”‚   â”‚   â”œâ”€â”€ Terminal.js
â”‚   â”‚   â””â”€â”€ PythonAutoCompleter.js
â”‚   â””â”€â”€ jupyter/           # ğŸ”¥ Jupyter ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ JupyterComponent.js
â”œâ”€â”€ jupyter_notebooks/     # ğŸ”¥ ì‚¬ìš©ì ë…¸íŠ¸ë¶ (ê²©ë¦¬)
â”œâ”€â”€ jupyter_templates/     # ğŸ”¥ ë…¸íŠ¸ë¶ í…œí”Œë¦¿
â””â”€â”€ jupyter_start_new.sh  # ğŸ”¥ Jupyter ì„œë²„ ì‹œì‘

ğŸ” ë³´ì•ˆ ì‹œìŠ¤í…œ
Jupyter ê²©ë¦¬ ë³´ì•ˆ

ì‚¬ìš©ìë³„ ë””ë ‰í† ë¦¬ ê²©ë¦¬: /jupyter_notebooks/{userID}/
ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦: requireAuth ë¯¸ë“¤ì›¨ì–´
ê¶Œí•œ ì²´í¬: ë³¸ì¸ + adminë§Œ ì ‘ê·¼
íŒŒì¼ëª… ê²€ì¦: ì‚¬ìš©ì ID í¬í•¨ í•„ìˆ˜
ê²½ë¡œ ì¡°ì‘ ë°©ì§€: ì„œë²„ì—ì„œë§Œ ê²½ë¡œ ê²°ì •

ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ

Jupyter 8000ë²ˆ í¬íŠ¸: ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨
Apache í”„ë¡ì‹œ ì „ìš© ì ‘ê·¼
CSRF ê²€ì¦ ë¹„í™œì„±í™” (iframe ì„ë² ë”© ì „ìš©)


ğŸ”„ EventBus í†µì‹  ì‹œìŠ¤í…œ
ì£¼ìš” ì´ë²¤íŠ¸
javascript// ë©”ë‰´ ì„ íƒ
EventBus.publish('menuSelected', { examName, layoutType, pptUrl })

// ë¬¸ì œ ë³€ê²½
EventBus.publish('problemChanged', { examName, problemNumber, pythonFileUrl })

// ë ˆì´ì•„ì›ƒ ë³€ê²½
EventBus.publish('layoutChanged', { layoutType })

// í•´ì„¤ ìš”ì²­
EventBus.publish('explanation-request', problemData)

ğŸ¨ Google Sheets ë°ì´í„° êµ¬ì¡°
problems ì‹œíŠ¸ (ì½˜í…ì¸  ì†ŒìŠ¤)
ì—´ë‚´ìš©ì„¤ëª…AURLë¬¸ì œ í˜ì´ì§€ URLBì‹œí—˜ì§€ëª…python, algorithm ë“±Cë¬¸ì œë²ˆí˜¸p01, p02 í˜•ì‹Dê°œë…íŒŒì¼URLê°œë… í•™ìŠµ ìë£ŒEì˜ˆì œíŒŒì¼URLê¸°ë³¸/ì˜ˆì œ ì½”ë“œFì •ë‹µíŒŒì¼URLì •ë‹µ ì½”ë“œGí•´ì„¤íŒŒì¼URLë§ˆí¬ë‹¤ìš´ í•´ì„¤HanswerTypecode, text, quiz ë“±Iì •ë‹µJSON í˜•ì‹Jì¸í’‹/ì•„ì›ƒí’‹í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤Kë‚œì´ë„1-5 ë‹¨ê³„Lê°ê´€ì‹/ì£¼ê´€ì‹ë¬¸ì œ ìœ í˜•MTagsíƒœê·¸ ì •ë³´

ğŸ’¡ ì‹œìŠ¤í…œ í•µì‹¬ íŠ¹ì§• ìš”ì•½
1. ëª¨ë“ˆëŸ¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

ê° ì»´í¬ë„ŒíŠ¸ ë…ë¦½ ë™ì‘
EventBusë¡œ ëŠìŠ¨í•œ ê²°í•©
ComponentFactoryë¡œ ë™ì  ìƒì„±

2. ë™ì  ë ˆì´ì•„ì›ƒ ì „í™˜

CSS í´ë˜ìŠ¤ ê¸°ë°˜ ì„±ëŠ¥ ìµœì í™”
5ê°€ì§€ ë ˆì´ì•„ì›ƒ (HTML/IDE/Jupyter/Quiz/PPT)
ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© (IDE â†” Jupyter ìœ„ì¹˜ ê³µìœ )

3. Google Sheets ê¸°ë°˜ CMS

ë¹„ê°œë°œìë„ ì½˜í…ì¸  ê´€ë¦¬ ê°€ëŠ¥
ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸
API ìºì‹±ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”

4. ì‚¬ìš©ìë³„ ê²©ë¦¬ ì‹œìŠ¤í…œ ğŸ”¥

Jupyter ë…¸íŠ¸ë¶ ì™„ì „ ê²©ë¦¬
í…œí”Œë¦¿ ê¸°ë°˜ ìë™ ìƒì„±
íŒŒì¼ëª… ê·œì¹™ìœ¼ë¡œ ì¤‘ë³µ ë°©ì§€

5. í•˜ì´ë¸Œë¦¬ë“œ ì¸ì¦

ì„¸ì…˜ (Redis) + JWT
7ë‹¨ê³„ ê¶Œí•œ ì²´ê³„
í˜ì´ì§€ë³„ ì ‘ê·¼ ì œì–´


ğŸš€ ì£¼ìš” ê°œì„  í¬ì¸íŠ¸
ì™„ë£Œëœ ê¸°ëŠ¥
âœ… ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•
âœ… IDE í†µí•© (Python ì‹¤í–‰)
âœ… Jupyter Notebook í†µí•© ğŸ”¥
âœ… ì‚¬ìš©ìë³„ ê²©ë¦¬ ì‹œìŠ¤í…œ ğŸ”¥
âœ… í…œí”Œë¦¿ ê¸°ë°˜ ë…¸íŠ¸ë¶ ìƒì„± ğŸ”¥
âœ… í€´ì¦ˆ ì‹œìŠ¤í…œ
âœ… í•´ì„¤ íŒì—…
ì˜ˆì • ê¸°ëŠ¥
ğŸ”² í•™ìƒ ì§„ë„ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ
ğŸ”² ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥ (WebSocket)
ğŸ”² AI ê¸°ë°˜ ì½”ë”© ë„ìš°ë¯¸
ğŸ”² ìë™ ì±„ì  ì‹œìŠ¤í…œ
