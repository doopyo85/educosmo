ğŸ“˜ Jupyter Notebook í†µí•© ì‹œìŠ¤í…œ ëª…ì„¸ì„œ
ğŸ“‹ ê°œìš”
educodingnplay í”„ë¡œì íŠ¸ì— Jupyter Notebook ê¸°ëŠ¥ì´ í†µí•©ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìë³„ë¡œ ê²©ë¦¬ëœ ë…¸íŠ¸ë¶ í™˜ê²½ì„ ì œê³µí•˜ë©°, IDE ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ ìœ„ì¹˜ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.

ğŸ¯ í•µì‹¬ íŠ¹ì§•
1. ì‚¬ìš©ìë³„ ê²©ë¦¬

ê° ì‚¬ìš©ìëŠ” ë…ë¦½ì ì¸ í´ë”(jupyter_notebooks/{userID}/)ë¥¼ ê°€ì§
ìì‹ ì˜ ë…¸íŠ¸ë¶ íŒŒì¼ë§Œ ì ‘ê·¼ ë° ìˆ˜ì • ê°€ëŠ¥
ë‹¤ë¥¸ ì‚¬ìš©ìì˜ íŒŒì¼ì€ ì ‘ê·¼ ë¶ˆê°€

2. Jupyter Notebook ì‚¬ìš©

JupyterHubë‚˜ JupyterLabì´ ì•„ë‹Œ classic Jupyter Notebook ì‚¬ìš©
í¬íŠ¸ 8000ë²ˆì—ì„œ ì‹¤í–‰
Apache í”„ë¡ì‹œë¥¼ í†µí•´ /jupyter ê²½ë¡œë¡œ ì„œë¹„ìŠ¤

3. ë¹ˆ ë…¸íŠ¸ë¶ ìë™ ìƒì„±

ì‚¬ìš©ìë³„ë¡œ ìƒˆ ë¹ˆ ë…¸íŠ¸ë¶ ìë™ ìƒì„±
íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ íŒŒì¼ëª…: {userID}_{timestamp}.ipynb
ì›°ì»´ ë©”ì‹œì§€ì™€ ìƒ˜í”Œ ì½”ë“œ í¬í•¨

4. IDE ìœ„ì¹˜ ê³µìœ 

IDE ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ DOM ìœ„ì¹˜ ì‚¬ìš©
ë ˆì´ì•„ì›ƒ ì „í™˜ìœ¼ë¡œ ACE Editor â†” Jupyter ì „í™˜ ê°€ëŠ¥


ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              JUPYTER INTEGRATION ARCHITECTURE           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Client Side   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Server Side       â”‚   â”‚
â”‚  â”‚                â”‚         â”‚                      â”‚   â”‚
â”‚  â”‚ JupyterComponentâ”‚        â”‚ jupyterRouter.js     â”‚   â”‚
â”‚  â”‚ (ì»´í¬ë„ŒíŠ¸)      â”‚         â”‚ notebookManager.js   â”‚   â”‚
â”‚  â”‚                â”‚         â”‚                      â”‚   â”‚
â”‚  â”‚ - ë¹ˆ ë…¸íŠ¸ë¶ ìš”ì²­â”‚         â”‚ - ë…¸íŠ¸ë¶ ìƒì„±        â”‚   â”‚
â”‚  â”‚ - iframe ë¡œë“œ  â”‚         â”‚ - ì‚¬ìš©ì ë””ë ‰í† ë¦¬   â”‚   â”‚
â”‚  â”‚ - ìƒíƒœ ê´€ë¦¬    â”‚         â”‚ - Jupyter í”„ë¡œì„¸ìŠ¤  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â†“                              â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Component      â”‚         â”‚ Jupyter Notebook     â”‚   â”‚
â”‚  â”‚ System         â”‚         â”‚ Server (Port 8000)   â”‚   â”‚
â”‚  â”‚ (ë ˆì´ì•„ì›ƒ ê´€ë¦¬) â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ ì‚¬ìš©ìë³„ ê²©ë¦¬        â”‚   â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â†“                  â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                         â”‚ File System          â”‚       â”‚
â”‚                         â”‚ jupyter_notebooks/   â”‚       â”‚
â”‚                         â”‚ â”œâ”€ user1/            â”‚       â”‚
â”‚                         â”‚ â”œâ”€ user2/            â”‚       â”‚
â”‚                         â”‚ â””â”€ user3/            â”‚       â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ íŒŒì¼ êµ¬ì¡° ë° ì—­í• 
ğŸ”¥ í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ
JupyterComponent.js
ìœ„ì¹˜: /public/js/components/jupyter/JupyterComponent.js
ì—­í• : Jupyter Notebook UI ê´€ë¦¬ ë° ì„œë²„ í†µì‹ 
ì£¼ìš” ê¸°ëŠ¥:
javascriptclass JupyterComponent extends Component {
  // 1. ì´ˆê¸°í™”
  async init(data = null)
  
  // 2. ì‚¬ìš©ìë³„ ë¹ˆ ë…¸íŠ¸ë¶ ìƒì„± ë° ë¡œë“œ
  async createAndLoadBlankNotebook()
  
  // 3. ë…¸íŠ¸ë¶ ë¡œë“œ
  loadNotebook(notebookUrl)
  
  // 4. ì»´í¬ë„ŒíŠ¸ í™œì„±í™”/ë¹„í™œì„±í™”
  activate()
  deactivate()
  
  // 5. ê°•ì œ ì—°ê²° (í´ë°±)
  async forceConnect()
  
  // 6. ìƒíƒœ í™•ì¸
  getStatus()
}
íŠ¹ì§•:

ì‚¬ìš©ì ID ìë™ ê°ì§€ (getCurrentUserID())
ë¡œë”©/ì—ëŸ¬ UI ìì²´ ê´€ë¦¬
ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ (ìµœëŒ€ 5íšŒ)
iframe ê¸°ë°˜ Jupyter ì„ë² ë”©


jupyter.css
ìœ„ì¹˜: /public/css/components/jupyter.css
ì—­í• : Jupyter ì»´í¬ë„ŒíŠ¸ ì „ìš© ìŠ¤íƒ€ì¼ë§
ì£¼ìš” ìŠ¤íƒ€ì¼:
css/* ì»¨í…Œì´ë„ˆ */
.jupyter-container { ... }

/* iframe */
.jupyter-iframe { ... }

/* ë¡œë”© ìƒíƒœ */
.jupyter-loading { ... }

/* ì—ëŸ¬ ìƒíƒœ */
.jupyter-error { ... }

/* ë ˆì´ì•„ì›ƒë³„ í‘œì‹œ/ìˆ¨ê¹€ */
.layout-jupyter .jupyter-container { display: flex !important; }
.layout-html .jupyter-container,
.layout-ide .jupyter-container,
.layout-quiz .jupyter-container { display: none !important; }

ğŸ”¥ ì„œë²„ì‚¬ì´ë“œ
jupyterRouter.js
ìœ„ì¹˜: /routes/api/jupyterRouter.js
ì—­í• : Jupyter ê´€ë ¨ API ì—”ë“œí¬ì¸íŠ¸ ì œê³µ
ì£¼ìš” API:
ì—”ë“œí¬ì¸íŠ¸ë©”ì„œë“œê¸°ëŠ¥ì¸ì¦/statusGETJupyter ì„œë²„ ìƒíƒœ í™•ì¸X/create-blank-notebookPOSTì‚¬ìš©ìë³„ ë¹ˆ ë…¸íŠ¸ë¶ ìƒì„±O/user-notebooksGETì‚¬ìš©ì ë…¸íŠ¸ë¶ ëª©ë¡ ì¡°íšŒO/restartPOSTJupyter ì„œë²„ ì¬ì‹œì‘X
í•µì‹¬ ì½”ë“œ:
javascript// ë¹ˆ ë…¸íŠ¸ë¶ ìƒì„± API
router.post('/create-blank-notebook', requireAuth, async (req, res) => {
  const userID = req.session?.userID || req.body.userID || 'guest';
  
  // ì‚¬ìš©ìë³„ ë¹ˆ ë…¸íŠ¸ë¶ ìƒì„±
  const result = await createBlankNotebook(userID);
  
  res.json({
    success: true,
    notebook: result.filename,
    notebookUrl: `/jupyter/notebooks/${result.relativePath}`,
    userID: userID,
    timestamp: new Date().toISOString()
  });
});
Jupyter í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬:
javascript// Jupyter Notebook ì„œë²„ ì‹œì‘
const jupyterArgs = [
  'notebook',
  '--no-browser',
  '--allow-root',
  `--port=${JUPYTER_PORT}`,
  `--notebook-dir=${NOTEBOOKS_DIR}`,
  '--ip=0.0.0.0',
  '--NotebookApp.token=""',
  '--NotebookApp.password=""',
  '--NotebookApp.disable_check_xsrf=True'
];

jupyterProcess = spawn('jupyter', jupyterArgs, {
  stdio: ['ignore', 'pipe', 'pipe'],
  detached: false
});

notebookManager.js
ìœ„ì¹˜: /lib_jupyter/notebookManager.js
ì—­í• : íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ ë…¸íŠ¸ë¶ ê´€ë¦¬
ì£¼ìš” í•¨ìˆ˜:
javascript// ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ê²½ë¡œ ìƒì„±
const getUserNotebookDir = (userId) => {
  return path.join(BASE_NOTEBOOK_DIR, userId);
};

// ë…¸íŠ¸ë¶ ëª©ë¡ ì¡°íšŒ
const getNotebookList = async (userId) => { ... };

// ë…¸íŠ¸ë¶ ì €ì¥
const saveNotebook = async (userId, filename, content) => { ... };

// ë…¸íŠ¸ë¶ ì½ê¸°
const readNotebook = async (userId, filename) => { ... };

// ë…¸íŠ¸ë¶ ì‚­ì œ
const deleteNotebook = async (userId, filename) => { ... };

// ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ìƒì„±
const ensureUserDir = async (userId) => { ... };

jupyter_start_new.sh
ìœ„ì¹˜: /jupyter_start_new.sh
ì—­í• : Jupyter Notebook ì„œë²„ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸
ì£¼ìš” ë‚´ìš©:
bash#!/bin/bash
set -e

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source myenv/bin/activate

# í•œê¸€ í°íŠ¸ ìë™ ì„¤ì •
cat > ~/.ipython/profile_default/startup/00-korean-font.py << 'EOF'
import matplotlib.pyplot as plt
import matplotlib.font_manager as fm

korean_fonts = ['NanumGothic', 'NanumBarunGothic', 'Malgun Gothic']
available_fonts = [f.name for f in fm.fontManager.ttflist]

for font in korean_fonts:
    if font in available_fonts:
        plt.rcParams['font.family'] = font
        plt.rcParams['axes.unicode_minus'] = False
        break
EOF

# Jupyter ì„œë²„ ì‹¤í–‰
cd jupyter_notebooks

exec jupyter notebook \
  --ip=0.0.0.0 \
  --port=8000 \
  --no-browser \
  --allow-root \
  --NotebookApp.base_url=/jupyter \
  --NotebookApp.token= \
  --NotebookApp.password= \
  --NotebookApp.disable_check_xsrf=True \
  --NotebookApp.allow_origin="*" \
  --NotebookApp.allow_remote_access=True
íŠ¹ì§•:

í•œê¸€ í°íŠ¸ ìë™ ì„¤ì • (matplotlib)
CSRF ê²€ì¦ ë¹„í™œì„±í™” (ì„ë² ë”© í—ˆìš©)
í† í°/ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ (ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì „ìš©)


ğŸ”¥ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ í†µí•©
component-system.js ë³€ê²½ì‚¬í•­
1. ë ˆì´ì•„ì›ƒ íƒ€ì… ì¶”ê°€:
javascriptLAYOUT_TYPES: {
  HTML: 'html',
  IDE: 'ide',
  QUIZ: 'quiz',
  PPT: 'ppt',
  JUPYTER: 'jupyter'  // ğŸ”¥ ì¶”ê°€
}
2. JupyterComponent ë“±ë¡:
javascriptregisterComponents: function() {
  const componentConfigs = {
    // ... ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤
    jupyter: {
      className: 'JupyterComponent',
      options: {
        elementId: 'jupyter-component',
        autoInit: true,
        retryOnFail: true
      }
    }
  };
  
  // Jupyter ì»´í¬ë„ŒíŠ¸ ìë™ ì´ˆê¸°í™”
  if (componentName === 'jupyter' && config.options.autoInit) {
    setTimeout(() => {
      this.initializeJupyterComponent(component);
    }, 1000);
  }
}
3. Jupyter ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”:
javascriptinitializeJupyterComponent: function(component) {
  try {
    // ì»¨í…Œì´ë„ˆ ì°¸ì¡° ì„¤ì •
    if (!component.elements?.container) {
      const container = document.getElementById('jupyter-component');
      component.elements.container = container;
    }
    
    // ë‹¨ìˆœí™” ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ
    if (component.initializeSimpleJupyter) {
      component.initializeSimpleJupyter();
    } else if (component.forceConnect) {
      component.forceConnect();
    }
  } catch (error) {
    console.error('Jupyter ìë™ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜:', error);
  }
}
4. ë ˆì´ì•„ì›ƒ í™œì„±í™”:
javascriptactivateComponents: function(layoutType) {
  const activeComponents = {
    'html': ['navigation', 'content'],
    'ide': ['navigation', 'content', 'ide'],
    'quiz': ['navigation', 'content', 'quiz'],
    'ppt': ['navigation', 'pptViewer'],
    'jupyter': ['navigation', 'content', 'jupyter']  // ğŸ”¥ ì¶”ê°€
  };
  
  // ...
}

ğŸ”¥ í…œí”Œë¦¿ íŒŒì¼
template.ejs ë³€ê²½ì‚¬í•­
1. CSS ì¶”ê°€:
html<link rel="stylesheet" href="/css/components/jupyter.css">
2. Jupyter ì»´í¬ë„ŒíŠ¸ DOM êµ¬ì¡°:
html<!-- Jupyter ì»´í¬ë„ŒíŠ¸ -->
<div id="jupyter-component" class="jupyter-container component component-hidden">
  <!-- JupyterComponent.jsì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
</div>
3. Jupyter ê´€ë¦¬ í•¨ìˆ˜ë“¤:
javascript// ì¬ì‹œë„
function retryJupyter() { ... }

// ìƒˆë¡œê³ ì¹¨
function refreshJupyter() { ... }

// ì „ì²´í™”ë©´
function fullscreenJupyter() { ... }

// ë‹¤ìš´ë¡œë“œ
function downloadNotebook() { ... }
4. Jupyter ì»´í¬ë„ŒíŠ¸ ìë™ ë³µêµ¬ ì‹œìŠ¤í…œ:
javascript// 5ì´ˆ í›„ë¶€í„° 3ì´ˆ ê°„ê²©ìœ¼ë¡œ Jupyter ìƒíƒœ ì²´í¬
setTimeout(() => {
  jupyterCheckInterval = setInterval(checkJupyterComponent, 3000);
}, 5000);
5. ë””ë²„ê¹… ëª…ë ¹ì–´:
javascriptwindow.checkJupyter()        // ìƒíƒœ í™•ì¸
window.fixJupyterComponent() // ìˆ˜ë™ ë³µêµ¬
window.recreateJupyter()     // ì™„ì „ ì¬ìƒì„±

ğŸŒ Apache í”„ë¡ì‹œ ì„¤ì •
apache_proxyì„¤ì •_20250805.txt ê´€ë ¨ ë¶€ë¶„
apache# Jupyter í”„ë¡ì‹œ ì„¤ì •
ProxyPass /jupyter http://localhost:8000/
ProxyPassReverse /jupyter http://localhost:8000/

# WebSocket ì§€ì›
ProxyPass /jupyter/api/kernels ws://127.0.0.1:8000/jupyter/api/kernels
ProxyPassReverse /jupyter/api/kernels ws://127.0.0.1:8000/jupyter/api/kernels
ProxyPass /jupyter/terminals/websocket ws://127.0.0.1:8000/jupyter/terminals/websocket
ProxyPassReverse /jupyter/terminals/websocket ws://127.0.0.1:8000/jupyter/terminals/websocket
íŠ¹ì§•:

HTTP ë° WebSocket ëª¨ë‘ í”„ë¡ì‹œ
Jupyter Kernel API ë° Terminal WebSocket ì§€ì›
ê¸°ë³¸ HTTP í”„ë¡ì‹œë¡œ ëŒ€ë¶€ë¶„ì˜ ìš”ì²­ ì²˜ë¦¬


ğŸ”„ ì‘ë™ íë¦„
1. ì´ˆê¸° ë¡œë“œ íë¦„
ì‚¬ìš©ìê°€ í˜ì´ì§€ ì ‘ì†
    â†“
template.ejs ë Œë”ë§
    â†“
JupyterComponent.js ë¡œë“œ
    â†“
Component-system.jsê°€ JupyterComponent ë“±ë¡
    â†“
ìë™ ì´ˆê¸°í™” (1ì´ˆ í›„)
    â†“
ì»¨í…Œì´ë„ˆ ì„¤ì • (setupSimpleContainer)
    â†“
ë¹ˆ ë…¸íŠ¸ë¶ ìƒì„± ìš”ì²­ (/api/jupyter/create-blank-notebook)
    â†“
ì„œë²„ì—ì„œ ì‚¬ìš©ìë³„ ë…¸íŠ¸ë¶ íŒŒì¼ ìƒì„±
    â†“
ë…¸íŠ¸ë¶ URL ë°˜í™˜ (/jupyter/notebooks/{userID}/{filename}.ipynb)
    â†“
iframeì— ë…¸íŠ¸ë¶ ë¡œë“œ
    â†“
ë¡œë”© í™”ë©´ ìˆ¨ê¸°ê¸°, Jupyter í‘œì‹œ
2. ì‚¬ìš©ìë³„ ë…¸íŠ¸ë¶ ìƒì„± íë¦„
JupyterComponent.createAndLoadBlankNotebook()
    â†“
fetch POST /api/jupyter/create-blank-notebook
    â†“
jupyterRouter.js ì²˜ë¦¬
    â†“
createBlankNotebook(userID) í˜¸ì¶œ
    â†“
notebookManager.ensureUserDir(userID)
    â†“
jupyter_notebooks/{userID}/ ë””ë ‰í† ë¦¬ ìƒì„±
    â†“
{userID}_{timestamp}.ipynb íŒŒì¼ ìƒì„±
    â†“
ë¹ˆ ë…¸íŠ¸ë¶ êµ¬ì¡° JSON ì‘ì„±
    â†“
íŒŒì¼ ì €ì¥
    â†“
ìƒëŒ€ ê²½ë¡œ ë°˜í™˜ ({userID}/{filename})
    â†“
ì „ì²´ URL ìƒì„± (/jupyter/notebooks/{relativePath})
    â†“
í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µ
    â†“
iframe.src = notebookUrl
    â†“
Jupyter Notebook í‘œì‹œ
3. ë ˆì´ì•„ì›ƒ ì „í™˜ íë¦„
ì‚¬ìš©ìê°€ "Jupyter" ë²„íŠ¼ í´ë¦­
    â†“
IDE Selector ë²„íŠ¼ ì´ë²¤íŠ¸
    â†“
ComponentSystem.applyLayout('jupyter')
    â†“
ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ë³€ê²½
  - ì œê±°: layout-html, layout-ide, layout-quiz, layout-ppt
  - ì¶”ê°€: layout-jupyter
    â†“
CSS ê·œì¹™ ì ìš©
  .layout-jupyter .jupyter-container { display: flex !important; }
    â†“
activateComponents('jupyter')
    â†“
Jupyter ì»´í¬ë„ŒíŠ¸ í™œì„±í™”
    â†“
ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ë¹„í™œì„±í™” (IDE, Quiz ë“±)
    â†“
iframe í‘œì‹œ

ğŸ“Š ë°ì´í„° êµ¬ì¡°
ë¹ˆ ë…¸íŠ¸ë¶ JSON êµ¬ì¡°
json{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# {userID}ë‹˜ì˜ ë…¸íŠ¸ë¶\n",
        "\n",
        "ìƒì„±ì¼: {í˜„ì¬ ë‚ ì§œ/ì‹œê°„}\n",
        "\n",
        "ì™¼ìª½ Contentì—ì„œ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”\n",
        "print('Hello, Jupyter!')"
      ]
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "name": "python",
      "version": "3.8.5"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 4
}
API ì‘ë‹µ êµ¬ì¡°
/api/jupyter/create-blank-notebook ì‘ë‹µ
json{
  "success": true,
  "notebook": "user123_20250930123045.ipynb",
  "notebookUrl": "/jupyter/notebooks/user123/user123_20250930123045.ipynb",
  "userID": "user123",
  "message": "user123ë‹˜ì˜ ìƒˆ ë…¸íŠ¸ë¶ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "timestamp": "2025-09-30T12:30:45.123Z"
}
/api/jupyter/user-notebooks ì‘ë‹µ
json{
  "success": true,
  "userID": "user123",
  "notebooks": [
    "user123_20250930123045.ipynb",
    "user123_20250929151200.ipynb",
    "user123_20250928093030.ipynb"
  ],
  "count": 3
}
/api/jupyter/status ì‘ë‹µ
json{
  "status": "online",
  "port": 8000,
  "url": "http://localhost:8000",
  "proxy_url": "/jupyter",
  "notebooks_dir": "/var/www/html/jupyter_notebooks",
  "message": "Simple Jupyter Server - User Isolation",
  "timestamp": "2025-09-30T12:30:45.123Z"
}

ğŸ¨ UI/UX íŠ¹ì§•
1. ë¡œë”© ìƒíƒœ
html<div class="jupyter-loading" style="display: flex;">
  <div class="loading-content">
    <div class="loading-spinner"></div>
    <p>Jupyter Notebookì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
    <small>ì‚¬ìš©ì: {userID}</small>
  </div>
</div>
2. ì—ëŸ¬ ìƒíƒœ
html<div class="jupyter-error" style="display: flex;">
  <div class="error-content">
    <h5>Jupyter Notebook ì—°ê²° ì‹¤íŒ¨</h5>
    <p id="jupyter-error-message">ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
    <button class="btn btn-primary" id="jupyter-retry-btn">ë‹¤ì‹œ ì‹œë„</button>
  </div>
</div>
3. ì •ìƒ ë™ì‘ ìƒíƒœ
html<iframe 
  id="jupyter-iframe" 
  class="jupyter-iframe" 
  src="/jupyter/notebooks/user123/user123_20250930123045.ipynb"
  title="Jupyter Notebook"
  sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-modals"
  style="width: 100%; height: 100%; border: none; background: white; display: block;"
></iframe>

ğŸ”§ ê°œë°œì ë„êµ¬
ì½˜ì†” ë””ë²„ê¹… ëª…ë ¹ì–´
javascript// 1. Jupyter ìƒíƒœ í™•ì¸
checkJupyter()

// 2. Jupyter ìˆ˜ë™ ë³µêµ¬
fixJupyterComponent()

// 3. Jupyter ì™„ì „ ì¬ìƒì„±
recreateJupyter()

// 4. ì»´í¬ë„ŒíŠ¸ ìƒíƒœ í™•ì¸
debugComponent('jupyter')

// 5. ë ˆì´ì•„ì›ƒ ê°•ì œ ì „í™˜
forceLayout('jupyter')

// 6. ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœ
debugComponentSystem()

// 7. ì´ë²¤íŠ¸ ë²„ìŠ¤ ìƒíƒœ
debugEventBus()

// 8. ë„ì›€ë§
debugHelp()

ğŸš€ ë°°í¬ ê°€ì´ë“œ
1. ì„œë²„ ì„¤ì • (Ubuntu)
Jupyter ê°€ìƒí™˜ê²½ ì„¤ì •
bashcd /var/www/html

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source myenv/bin/activate

# Jupyter Notebook ì„¤ì¹˜ (ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆìŒ)
pip install jupyter notebook matplotlib numpy pandas
Jupyter ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ê¶Œí•œ ì„¤ì •
bashchmod +x jupyter_start_new.sh
ë…¸íŠ¸ë¶ ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ì„¤ì •
bashmkdir -p jupyter_notebooks
chmod 755 jupyter_notebooks
2. Jupyter ì„œë²„ ì‹¤í–‰
ìˆ˜ë™ ì‹¤í–‰
bashcd /var/www/html
./jupyter_start_new.sh
PM2ë¡œ ìë™ ì‹¤í–‰ (ê¶Œì¥)
bashpm2 start jupyter_start_new.sh --name jupyter-notebook
pm2 save
pm2 startup
3. Apache ì¬ì‹œì‘
bashsudo systemctl restart apache2
4. ë°©í™”ë²½ ì„¤ì • í™•ì¸
bash# 8000ë²ˆ í¬íŠ¸ëŠ” ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨ (ë‚´ë¶€ í”„ë¡ì‹œë§Œ í—ˆìš©)
sudo ufw status

ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
1. ì‚¬ìš©ì ê²©ë¦¬

ê° ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ë§Œ ì ‘ê·¼ ê°€ëŠ¥
ë…¸íŠ¸ë¶ íŒŒì¼ëª…ì— ì‚¬ìš©ì ID í¬í•¨
ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ìœ¼ë¡œ ì‚¬ìš©ì í™•ì¸

2. ì¸ì¦ ë° ê¶Œí•œ

/api/jupyter/create-blank-notebook - ë¡œê·¸ì¸ í•„ìš” (requireAuth)
/api/jupyter/user-notebooks - ë¡œê·¸ì¸ í•„ìš”
Jupyter ì„œë²„ëŠ” í† í°/ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ (ë‚´ë¶€ í”„ë¡ì‹œ ì „ìš©)

3. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ

Jupyter ì„œë²„ëŠ” 8000ë²ˆ í¬íŠ¸, ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨
Apache í”„ë¡ì‹œë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥ (/jupyter ê²½ë¡œ)
CSRF ê²€ì¦ ë¹„í™œì„±í™” (iframe ì„ë² ë”© í—ˆìš©)

4. íŒŒì¼ ì‹œìŠ¤í…œ ë³´ì•ˆ

ë…¸íŠ¸ë¶ ë””ë ‰í† ë¦¬ ê¶Œí•œ: 755
ìƒì„±ëœ ë…¸íŠ¸ë¶ íŒŒì¼: ê¸°ë³¸ umask ì ìš©
ìƒìœ„ ë””ë ‰í† ë¦¬ ì ‘ê·¼ ë°©ì§€ (path traversal ë°©ì§€)