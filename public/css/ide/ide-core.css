/* ============================================================
   ide-core.css - IDE ê¸°ë³¸ ë³€ìˆ˜, ì»¨í…Œì´ë„ˆ, ë ˆì´ì•„ì›ƒ
   ============================================================ */

/* ============================================================
   ğŸ”¥ VSCode ìƒ‰ìƒ ë³€ìˆ˜ - IDE ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ë§Œ ì ìš©
   ============================================================ */
.ide-container {
  /* VSCode ìƒ‰ìƒ ë³€ìˆ˜ - IDE ì˜ì—­ì—ë§Œ ì ìš© */
  --vscode-bg-primary: #1e1e1e;
  --vscode-bg-secondary: #252526;
  --vscode-bg-tertiary: #2d2d30;
  --vscode-border: #3c3c3c;
  --vscode-border-light: #454545;
  --vscode-text-primary: #cccccc;
  --vscode-text-secondary: #969696;
  --vscode-text-muted: #6a6a6a;
  --vscode-accent: #007acc;
  --vscode-accent-hover: #1177bb;
  --vscode-success: #4ec9b0;
  --vscode-warning: #dcdcaa;
  --vscode-error: #f44747;
  --vscode-info: #569cd6;
  
  /* VSCode í°íŠ¸ */
  --vscode-font-editor: Consolas, 'Courier New', Monaco, 'Lucida Console', monospace;
  --vscode-font-ui: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
  
  /* VSCode í¬ê¸° */
  --vscode-toolbar-height: 35px;
  --vscode-tab-height: 35px;
  --vscode-border-width: 1px;
  --vscode-border-radius: 3px;
}

/* ============================================================
   ê¸°ë³¸ IDE ì»¨í…Œì´ë„ˆ - VSCode ìŠ¤íƒ€ì¼ ì ìš©
   ============================================================ */

.ide-container {
  display: none;
  flex-direction: column;
  background-color: var(--vscode-bg-primary);
  color: var(--vscode-text-primary);
  font-family: var(--vscode-font-ui);
  font-size: 16px;
  line-height: 1.5;
  overflow: hidden;
  position: relative;
  height: 100%;
  border-left: var(--vscode-border-width) solid var(--vscode-border);
}

/* IDE ë ˆì´ì•„ì›ƒ í™œì„±í™” */
.layout-ide .ide-container {
  display: flex !important;
}

/* ============================================================
   ğŸ”¥ ìˆ˜ì •ëœ IDE ë ˆì´ì•„ì›ƒ - ì—ë””í„°ì™€ í„°ë¯¸ë„ ë¶„í• 
   ============================================================ */

/* ì½”ë“œ ì—ë””í„° ì»¨í…Œì´ë„ˆ */
.ide-container .code-editor-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* ì½”ë“œ ì—ë””í„° ìƒë‹¨ ë°” */
.ide-container .code-editor-top-bar {
  flex: 0 0 auto;
  height: 50px;
  min-height: 50px;
}

/* ACE ì—ë””í„° ë‚´ë¶€ ì»¨í…Œì´ë„ˆ */
.ide-container #ace-editor-inner {
  flex: 1;
  display: flex !important;
  flex-direction: column !important;
  height: calc(100% - 50px);
  min-height: 0;
  overflow: hidden;
}

/* ì—ë””í„° ì˜ì—­ (ìƒë‹¨) */
.ide-container .editor-area {
  flex: 1 1 70%; /* ê¸°ë³¸ 70% í• ë‹¹ */
  min-height: 200px;
  max-height: calc(100% - 150px); /* í„°ë¯¸ë„ì„ ìœ„í•œ ìµœì†Œ ê³µê°„ í™•ë³´ */
  display: flex;
  flex-direction: column;
  overflow: hidden;
  order: 1;
}

/* ì½”ë“œ ì—ë””í„° */
.ide-container .code-editor {
  flex: 1;
  width: 100%;
  height: 100%;
}

/* ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ */
.ide-container .resize-handle {
  flex: 0 0 6px;
  height: 6px;
  background-color: var(--vscode-bg-secondary);
  border-top: 1px solid var(--vscode-border);
  border-bottom: 1px solid var(--vscode-border);
  cursor: ns-resize;
  position: relative;
  user-select: none;
  z-index: 10;
  transition: background-color 0.2s ease;
  order: 2;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ide-container .resize-handle:hover {
  background-color: var(--vscode-accent);
}

.ide-container .resize-handle-line {
  width: 30px;
  height: 1px;
  background-color: var(--vscode-text-muted);
  opacity: 0.6;
}

.ide-container .resize-handle:hover .resize-handle-line {
  background-color: white;
  opacity: 1;
}

/* ğŸ”¥ ìˆ˜ì •ëœ í„°ë¯¸ë„(ì¶œë ¥) ì˜ì—­ */
.ide-container .output-container {
  flex: 0 0 30%; /* ê¸°ë³¸ 30% í• ë‹¹ */
  min-height: 120px;
  max-height: 60%; /* ìµœëŒ€ 60%ê¹Œì§€ í™•ì¥ ê°€ëŠ¥ */
  display: flex !important;
  flex-direction: column !important;
  background-color: var(--vscode-bg-primary);
  border-top: 1px solid var(--vscode-border);
  order: 3;
  overflow: hidden;
}

/* í„°ë¯¸ë„ íƒ€ì´í‹€ */
.ide-container .output-title {
  flex: 0 0 40px;
  height: 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background-color: var(--vscode-bg-secondary);
  border-bottom: 1px solid var(--vscode-border);
  font-size: 16px; 
  font-weight: 500;
  color: var(--vscode-text-primary);
}

/* í„°ë¯¸ë„ ì½˜í…ì¸  */
.ide-container .output-content {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
  font-family: var(--vscode-font-editor);
  font-size: 16px; 
  line-height: 1.4;
  color: var(--vscode-text-primary);
  background-color: var(--vscode-bg-primary);
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* ============================================================
   ë ˆì´ì•„ì›ƒ ê°•ì œ ë³´ì¥
   ============================================================ */

.layout-ide .ide-container .output-container,
body.layout-ide .ide-container .output-container,
#ide-component .output-container {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  flex: 0 0 200px !important;
  min-height: 200px !important;
}

.layout-ide .ide-container .output-content,
body.layout-ide .ide-container .output-content,
#ide-component .output-content {
  display: flex !important;
  flex-direction: column !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ============================================================
   ë°˜ì‘í˜• ë””ìì¸
   ============================================================ */

@media (max-width: 992px) {
  .ide-container .code-editor-top-bar {
    padding: 8px 12px;
    height: 56px;
  }
  
  .ide-container #ace-editor-inner {
    height: calc(100% - 56px);
  }
  
  .ide-container .output-container {
    flex: 0 0 35%;
    min-height: 150px;
  }
}

@media (max-width: 768px) {
  .ide-container .code-editor-top-bar {
    padding: 6px 10px;
    height: 50px;
    flex-wrap: wrap;
    gap: 8px;
  }
  
  .ide-container #ace-editor-inner {
    height: calc(100% - 50px);
  }
  
  .ide-container .output-container {
    flex: 0 0 40%;
    min-height: 120px;
  }
}

@media (max-height: 600px) {
  .ide-container .output-container {
    flex: 0 0 25%;
    min-height: 100px;
  }
}

@media (max-height: 400px) {
  .ide-container .output-container {
    flex: 0 0 30%;
    min-height: 80px;
  }
}

/* ============================================================
   ì ‘ê·¼ì„± ë° í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼
   ============================================================ */

.ide-container .resize-handle:focus {
  outline: 2px solid var(--vscode-accent);
  outline-offset: 1px;
}

.ide-container .ace_editor:focus {
  outline: none;
}

/* ============================================================
   í”„ë¦°íŠ¸ ìŠ¤íƒ€ì¼
   ============================================================ */

@media print {
  .ide-container .code-editor-top-bar,
  .ide-container .output-container {
    display: none;
  }
  
  .ide-container #editor {
    height: 100%;
  }
  
  .ide-container .ace_editor {
    background-color: #ffffff !important;
    color: #000000 !important;
    font-size: 16pt !important;
  }
  
  .ide-container .ace_gutter {
    font-size: 16pt !important;
  }
}

/* ============================================================
   í„°ë¯¸ë„ ìµœëŒ€í™” ë° ë¦¬ì‚¬ì´ì¦ˆ ìƒíƒœ
   ============================================================ */

/* í„°ë¯¸ë„ ìµœëŒ€í™” ìƒíƒœ */
.ide-container .output-container.maximized {
  flex: 1 1 100% !important;
  height: calc(100vh - 120px) !important;
  min-height: calc(100vh - 120px) !important;
  max-height: calc(100vh - 120px) !important;
  position: relative;
  z-index: 100;
}

/* ìµœëŒ€í™” ìƒíƒœì—ì„œ ì—ë””í„° ìˆ¨ê¸°ê¸° */
.ide-container .output-container.maximized ~ .editor-area,
.ide-container .output-container.maximized ~ .resize-handle {
  display: none !important;
}

/* ë¦¬ì‚¬ì´ì¦ˆ ì¤‘ ìƒíƒœ */
.ide-container.resizing {
  user-select: none;
  cursor: ns-resize;
}

.ide-container.resizing * {
  pointer-events: none;
}

.ide-container.resizing .resize-handle {
  pointer-events: all;
}
