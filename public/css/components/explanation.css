/**
 * explanation.css - í•´ì„¤ íŒì—… ê¸°ëŠ¥ ìŠ¤íƒ€ì¼ì‹œíŠ¸
 * í”Œë¡œíŒ… ë²„íŠ¼ê³¼ í•´ì„¤ íŒì—…ì˜ ëª¨ë“  ìŠ¤íƒ€ì¼ì„ ì •ì˜í•©ë‹ˆë‹¤.
 * 
 * ì‘ì„±ì¼: 2025ë…„ 6ì›” 29ì¼
 * ë²„ì „: 1.2.0 - íˆ¬ëª… ë°°ê²½ + íšŒìƒ‰ í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼
 */

/* =====================================================
   ğŸ”¥ í”Œë¡œíŒ… í•´ì„¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ë ˆê±°ì‹œ)
   ===================================================== */

.explanation-floating-btn {
  position: absolute;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  z-index: 100;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  transform: scale(0.8);
}

/* =====================================================
   ğŸ”¥ ë„¤ë¹„ê²Œì´ì…˜ í•´ì„¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (NEW)
   ===================================================== */

.explanation-nav-btn {
  /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  
  /* ğŸ”¥ ìˆ˜ì •: íˆ¬ëª… ë°°ê²½ + íšŒìƒ‰ í…Œë‘ë¦¬ */
  border: 2px solid #6c757d;
  border-radius: 8px;
  background: transparent;
  color: #6c757d;
  
  /* í…ìŠ¤íŠ¸ */
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;
  white-space: nowrap;
  
  /* ì»¤ì„œ ë° ì• ë‹ˆë©”ì´ì…˜ */
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* ì´ˆê¸° ìˆ¨ê¹€ ìƒíƒœ */
  opacity: 0.7;
  transform: scale(0.95);
}

/* í•´ì„¤ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ */
.explanation-nav-btn.active {
  opacity: 1;
  transform: scale(1);
  /* ğŸ”¥ ìˆ˜ì •: í™œì„±í™” ì‹œ íŒŒë€ìƒ‰ í…Œë‘ë¦¬ */
  border-color: #0d6efd;
  color: #0d6efd;
  box-shadow: 0 2px 8px rgba(13, 110, 253, 0.2);
}

/* í•´ì„¤ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
.explanation-nav-btn:hover {
  /* ğŸ”¥ ìˆ˜ì •: í˜¸ë²„ ì‹œ ì—°í•œ íŒŒë€ìƒ‰ ë°°ê²½ */
  background: rgba(13, 110, 253, 0.1);
  border-color: #0d6efd;
  color: #0d6efd;
  transform: translateY(-1px) scale(1.02);
  box-shadow: 0 4px 12px rgba(13, 110, 253, 0.2);
  text-decoration: none;
}

/* í•´ì„¤ ë²„íŠ¼ í´ë¦­ íš¨ê³¼ */
.explanation-nav-btn:active {
  transform: translateY(0) scale(0.98);
  /* ğŸ”¥ ìˆ˜ì •: í´ë¦­ ì‹œ ì§„í•œ íŒŒë€ìƒ‰ ë°°ê²½ */
  background: rgba(13, 110, 253, 0.2);
  box-shadow: 0 2px 6px rgba(13, 110, 253, 0.3);
}

/* í•´ì„¤ ë²„íŠ¼ í¬ì»¤ìŠ¤ íš¨ê³¼ */
.explanation-nav-btn:focus {
  outline: none;
  /* ğŸ”¥ ìˆ˜ì •: í¬ì»¤ìŠ¤ ë§ ìƒ‰ìƒ ì¡°ì • */
  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
}

/* ë¹„í™œì„±í™” ìƒíƒœ */
.explanation-nav-btn:disabled,
.explanation-nav-btn.disabled {
  opacity: 0.4;
  cursor: not-allowed;
  /* ğŸ”¥ ìˆ˜ì •: ë¹„í™œì„±í™” ì‹œ íšŒìƒ‰ ìœ ì§€ */
  background: transparent;
  border-color: #6c757d;
  color: #6c757d;
  transform: none;
  box-shadow: none;
}

.explanation-nav-btn:disabled:hover,
.explanation-nav-btn.disabled:hover {
  /* ğŸ”¥ ìˆ˜ì •: ë¹„í™œì„±í™” í˜¸ë²„ ì‹œ ë³€í™” ì—†ìŒ */
  background: transparent;
  border-color: #6c757d;
  color: #6c757d;
  transform: none;
  box-shadow: none;
}

/* í•´ì„¤ ë²„íŠ¼ ì•„ì´ì½˜ */
.explanation-nav-btn i {
  font-size: 16px;
  transition: transform 0.2s ease;
}

.explanation-nav-btn:hover i {
  transform: scale(1.1);
}

/* í•´ì„¤ ì—†ìŒ ìƒíƒœ */
.explanation-nav-btn.no-explanation {
  /* ğŸ”¥ ìˆ˜ì •: í•´ì„¤ ì—†ìŒ ì‹œë„ ê¹¨ë—í•œ íšŒìƒ‰ */
  background: transparent;
  border-color: #adb5bd;
  color: #adb5bd;
  cursor: help;
}

.explanation-nav-btn.no-explanation:hover {
  /* ğŸ”¥ ìˆ˜ì •: í˜¸ë²„ ì‹œ ì•½ê°„ ì§„í•˜ê²Œ */
  background: rgba(173, 181, 189, 0.1);
  border-color: #6c757d;
  color: #6c757d;
  transform: none;
}

/* =====================================================
   ğŸ”¥ íŒì—… í™œì„±í™” ì‹œ ë²„íŠ¼ ìƒíƒœ ë³€ê²½
   ===================================================== */

/* íŒì—…ì´ ì—´ë¦° ìƒíƒœì˜ ë²„íŠ¼ */
.explanation-nav-btn.popup-open {
  /* ğŸ”¥ ìˆ˜ì •: íŒì—… ì—´ë¦° ìƒíƒœëŠ” ë¹¨ê°„ìƒ‰ */
  background: rgba(220, 53, 69, 0.1);
  border-color: #dc3545;
  color: #dc3545;
}

.explanation-nav-btn.popup-open:hover {
  background: rgba(220, 53, 69, 0.2);
  border-color: #dc3545;
  color: #dc3545;
}

/* =====================================================
   ğŸ”¥ íˆ´íŒ ìŠ¤íƒ€ì¼ (í•´ì„¤ ì—†ìŒ ìƒíƒœìš©)
   ===================================================== */

.explanation-nav-btn[data-tooltip] {
  position: relative;
}

.explanation-nav-btn[data-tooltip]:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  
  /* íˆ´íŒ ìŠ¤íƒ€ì¼ */
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 6px 10px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 1000;
  
  /* ì• ë‹ˆë©”ì´ì…˜ */
  opacity: 0;
  animation: tooltip-fade-in 0.2s ease forwards;
}

.explanation-nav-btn[data-tooltip]:hover::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(100%);
  
  /* í™”ì‚´í‘œ */
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid rgba(0, 0, 0, 0.8);
  z-index: 1001;
  
  /* ì• ë‹ˆë©”ì´ì…˜ */
  opacity: 0;
  animation: tooltip-fade-in 0.2s ease forwards;
}

@keyframes tooltip-fade-in {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(5px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* =====================================================
   ğŸ”¥ í•´ì„¤ íŒì—… ìŠ¤íƒ€ì¼
   ===================================================== */

.explanation-popup {
  /* ê¸°ë³¸ ìœ„ì¹˜ ë° í¬ê¸° */
  position: fixed;
  width: 700px; /* ğŸ”¥ ìˆ˜ì •: 500px â†’ 700px */
  max-width: 90vw;
  max-height: 80vh;
  
  /* ëª¨ì–‘ */
  background: white;
  border-radius: 15px;
  overflow: hidden;
  
  /* ê·¸ë¦¼ì ë° í…Œë‘ë¦¬ */
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1), 0 5px 15px rgba(0, 0, 0, 0.08);
  border: 2px solid #e3f2fd;
  
  /* ë ˆì´ì–´ */
  z-index: 1050;
  
  /* ì• ë‹ˆë©”ì´ì…˜ */
  transition: opacity 0.2s ease, transform 0.2s ease;
  
  /* ì´ˆê¸° ìƒíƒœ */
  opacity: 0;
  transform: scale(0.9);
}

/* ë§í’ì„  í™”ì‚´í‘œ */
.explanation-popup::before {
  content: '';
  position: absolute;
  top: -12px;
  left: 40px;
  border-left: 12px solid transparent;
  border-right: 12px solid transparent;
  border-bottom: 12px solid #e3f2fd;
  z-index: 1;
}

.explanation-popup::after {
  content: '';
  position: absolute;
  top: -10px;
  left: 41px;
  border-left: 11px solid transparent;
  border-right: 11px solid transparent;
  border-bottom: 11px solid white;
  z-index: 2;
}

/* =====================================================
   ğŸ”¥ íŒì—… í—¤ë” ìŠ¤íƒ€ì¼
   ===================================================== */

.explanation-popup .popup-header {
  /* ë ˆì´ì•„ì›ƒ */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  
  /* ğŸ”¥ ìˆ˜ì •: ë°°ê²½ìƒ‰ ê°œì„  (ì‹œì¸ì„± í–¥ìƒ) */
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-bottom: 1px solid #e0e0e0;
  
  /* ë“œë˜ê·¸ ê°€ëŠ¥ í‘œì‹œ */
  cursor: move;
  user-select: none;
}

.explanation-popup .popup-title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 18px;
  font-weight: 600;
  color: #2c3e50;
  margin: 0;
}

.explanation-popup .popup-title i {
  color: #667eea;
  font-size: 20px;
}

.explanation-popup .popup-close-btn {
  /* í¬ê¸° ë° ëª¨ì–‘ */
  width: 32px;
  height: 32px;
  border-radius: 8px;
  border: none;
  
  /* ë°°ê²½ ë° ìƒ‰ìƒ */
  background: rgba(255, 255, 255, 0.8);
  color: #666;
  
  /* ë ˆì´ì•„ì›ƒ */
  display: flex;
  align-items: center;
  justify-content: center;
  
  /* ì»¤ì„œ ë° ì• ë‹ˆë©”ì´ì…˜ */
  cursor: pointer;
  transition: all 0.2s ease;
}

.explanation-popup .popup-close-btn:hover {
  background: rgba(220, 53, 69, 0.1);
  color: #dc3545;
  transform: scale(1.1);
}

.explanation-popup .popup-close-btn:active {
  transform: scale(0.95);
}

/* =====================================================
   ğŸ”¥ íŒì—… ì½˜í…ì¸  ìŠ¤íƒ€ì¼
   ===================================================== */

.explanation-popup .popup-content {
  /* í¬ê¸° ë° ìŠ¤í¬ë¡¤ */
  max-height: calc(80vh - 80px);
  overflow-y: auto;
  
  /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
  scrollbar-width: thin;
  scrollbar-color: #ccc #f5f5f5;
}

.explanation-popup .popup-content::-webkit-scrollbar {
  width: 8px;
}

.explanation-popup .popup-content::-webkit-scrollbar-track {
  background: #f5f5f5;
}

.explanation-popup .popup-content::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 4px;
}

.explanation-popup .popup-content::-webkit-scrollbar-thumb:hover {
  background: #999;
}

/* =====================================================
   ğŸ”¥ í•´ì„¤ ë³¸ë¬¸ ìŠ¤íƒ€ì¼
   ===================================================== */

.explanation-popup .explanation-body {
  padding: 24px;
  line-height: 1.7;
  font-size: 15px;
  /* ğŸ”¥ ìˆ˜ì •: ë°°ê²½ìƒ‰ê³¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê°œì„  */
  background: #ffffff;
  color: #1a202c !important; /* ë” ì§„í•œ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ + !important ì¶”ê°€ */
}

/* ğŸ”¥ ì „ì²´ í…ìŠ¤íŠ¸ ìš”ì†Œì˜ ìƒ‰ìƒì„ ê°•ì œ ì§€ì • */
.explanation-popup .explanation-body *:not(code):not(pre) {
  color: #2d3748 !important;
}

/* ì œëª© ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body h1,
.explanation-popup .explanation-body h2,
.explanation-popup .explanation-body h3,
.explanation-popup .explanation-body h4,
.explanation-popup .explanation-body h5,
.explanation-popup .explanation-body h6 {
  /* ğŸ”¥ ìˆ˜ì •: ì œëª© ìƒ‰ìƒ ê°œì„  */
  color: #1a202c !important;
  margin-top: 24px;
  margin-bottom: 12px;
  font-weight: 600;
}

.explanation-popup .explanation-body h1 {
  font-size: 24px;
  /* ğŸ”¥ ìˆ˜ì •: ê²½ê³„ì„  ìƒ‰ìƒ ê°œì„  */
  border-bottom: 2px solid #e2e8f0;
  padding-bottom: 8px;
}

.explanation-popup .explanation-body h2 {
  font-size: 20px;
  /* ğŸ”¥ ìˆ˜ì •: h2 ìƒ‰ìƒ ê°œì„  */
  color: #3182ce !important;
}

.explanation-popup .explanation-body h3 {
  font-size: 18px;
  color: #4a5568 !important;
}

/* ë¬¸ë‹¨ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body p {
  margin-bottom: 16px;
  text-align: justify;
  /* ğŸ”¥ ìˆ˜ì •: ë¬¸ë‹¨ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ëª…ì‹œì  ì§€ì • */
  color: #2d3748 !important;
}

/* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body ul,
.explanation-popup .explanation-body ol {
  margin: 16px 0;
  padding-left: 24px;
  /* ğŸ”¥ ìˆ˜ì •: ë¦¬ìŠ¤íŠ¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  color: #2d3748 !important;
}

.explanation-popup .explanation-body li {
  margin-bottom: 8px;
  /* ğŸ”¥ ìˆ˜ì •: ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  color: #2d3748 !important;
}

/* ì½”ë“œ ë¸”ë¡ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body pre {
  /* ğŸ”¥ ìˆ˜ì •: ì½”ë“œ ë¸”ë¡ ë°°ê²½ ê°œì„  */
  background: #f7fafc;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
  overflow-x: auto;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.5;
}

.explanation-popup .explanation-body code {
  /* ğŸ”¥ ìˆ˜ì •: ì¸ë¼ì¸ ì½”ë“œ ìŠ¤íƒ€ì¼ ê°œì„  */
  background: #edf2f7;
  color: #e53e3e;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 13px;
}

.explanation-popup .explanation-body pre code {
  background: none;
  color: #2d3748;
  padding: 0;
  border-radius: 0;
}

/* ì¸ìš©êµ¬ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body blockquote {
  /* ğŸ”¥ ìˆ˜ì •: ì¸ìš©êµ¬ ìŠ¤íƒ€ì¼ ê°œì„  */
  border-left: 4px solid #3182ce;
  margin: 16px 0;
  padding: 12px 16px;
  background: #f7fafc;
  border-radius: 0 8px 8px 0;
  font-style: italic;
  color: #4a5568;
}

/* í‘œ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 14px;
  /* ğŸ”¥ ìˆ˜ì •: í‘œ ë°°ê²½ìƒ‰ ê°œì„  */
  background: #ffffff;
}

.explanation-popup .explanation-body th,
.explanation-popup .explanation-body td {
  /* ğŸ”¥ ìˆ˜ì •: í‘œ ì…€ ìŠ¤íƒ€ì¼ ê°œì„  */
  border: 1px solid #cbd5e0;
  padding: 12px 16px;
  text-align: left;
  color: #2d3748;
}

.explanation-popup .explanation-body th {
  /* ğŸ”¥ ìˆ˜ì •: í—¤ë” ì…€ ìŠ¤íƒ€ì¼ ê°œì„  */
  background: #edf2f7;
  font-weight: 600;
  color: #1a202c;
}

.explanation-popup .explanation-body tr:nth-child(even) {
  /* ğŸ”¥ ìˆ˜ì •: ë²ˆê°ˆì•„ ê°€ë©° ë‚˜ì˜¤ëŠ” í–‰ ìŠ¤íƒ€ì¼ ê°œì„  */
  background: #f7fafc;
}

.explanation-popup .explanation-body tr:nth-child(odd) {
  background: #ffffff;
}

/* ë§í¬ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body a {
  /* ğŸ”¥ ìˆ˜ì •: ë§í¬ ìƒ‰ìƒ ê°œì„  */
  color: #3182ce;
  text-decoration: none;
  border-bottom: 1px solid rgba(49, 130, 206, 0.3);
  transition: all 0.2s ease;
}

.explanation-popup .explanation-body a:hover {
  color: #2c5282;
  border-bottom-color: #2c5282;
}

/* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
.explanation-popup .explanation-body img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 16px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* =====================================================
   ğŸ”¥ ë¡œë”© ë° ì˜¤ë¥˜ ìƒíƒœ ìŠ¤íƒ€ì¼
   ===================================================== */

.explanation-popup .explanation-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 24px;
  color: #666;
}

.explanation-popup .loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.explanation-popup .explanation-loading p {
  margin: 0;
  font-size: 15px;
}

.explanation-popup .explanation-error {
  padding: 24px;
  text-align: center;
  color: #dc3545;
}

.explanation-popup .explanation-error p {
  margin: 0;
  font-size: 15px;
}

/* =====================================================
   ğŸ”¥ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ë°˜ì‘í˜• ë””ìì¸
   ===================================================== */

/* íƒœë¸”ë¦¿ (768px ì´í•˜) */
@media (max-width: 768px) {
  .explanation-nav-btn {
    padding: 6px 12px;
    font-size: 13px;
    gap: 6px;
  }
  
  .explanation-nav-btn i {
    font-size: 14px;
  }
  
  .explanation-popup {
    width: 95vw;
    max-height: 85vh;
    border-radius: 12px;
  }
  
  .explanation-popup .popup-header {
    padding: 16px 20px;
  }
  
  .explanation-popup .popup-title {
    font-size: 16px;
  }
  
  .explanation-popup .explanation-body {
    padding: 20px;
    font-size: 14px;
  }
  
  .explanation-popup .explanation-body h1 {
    font-size: 20px;
  }
  
  .explanation-popup .explanation-body h2 {
    font-size: 18px;
  }
  
  .explanation-popup .explanation-body h3 {
    font-size: 16px;
  }
}

/* ëª¨ë°”ì¼ (480px ì´í•˜) */
@media (max-width: 480px) {
  .explanation-nav-btn {
    padding: 5px 10px;
    font-size: 12px;
    gap: 4px;
    border-radius: 6px;
  }
  
  .explanation-nav-btn i {
    font-size: 13px;
  }
  
  /* ì‘ì€ í™”ë©´ì—ì„œëŠ” í…ìŠ¤íŠ¸ ìˆ¨ê¸°ê³  ì•„ì´ì½˜ë§Œ í‘œì‹œ */
  .explanation-nav-btn .btn-text {
    display: none;
  }
  
  .explanation-nav-btn {
    width: 36px;
    height: 36px;
    padding: 8px;
    justify-content: center;
  }
  
  .explanation-popup {
    width: 98vw;
    max-height: 90vh;
    border-radius: 8px;
    margin: 10px;
  }
  
  .explanation-popup .popup-header {
    padding: 12px 16px;
  }
  
  .explanation-popup .popup-title {
    font-size: 15px;
    gap: 8px;
  }
  
  .explanation-popup .popup-close-btn {
    width: 28px;
    height: 28px;
  }
  
  .explanation-popup .explanation-body {
    padding: 16px;
    font-size: 13px;
  }
  
  .explanation-popup .explanation-body pre {
    padding: 12px;
    font-size: 12px;
  }
  
  .explanation-popup .explanation-body code {
    font-size: 12px;
  }
}

/* =====================================================
   ğŸ”¥ ë‹¤í¬ ëª¨ë“œ ì§€ì› (ì„ íƒì )
   ===================================================== */

@media (prefers-color-scheme: dark) {
  .explanation-nav-btn {
    /* ğŸ”¥ ìˆ˜ì •: ë‹¤í¬ëª¨ë“œì—ì„œë„ íˆ¬ëª… ë°°ê²½ */
    background: transparent;
    border-color: #adb5bd;
    color: #adb5bd;
  }
  
  .explanation-nav-btn:hover {
    background: rgba(13, 110, 253, 0.15);
    border-color: #0d6efd;
    color: #0d6efd;
  }
  
  .explanation-nav-btn.active {
    border-color: #0d6efd;
    color: #0d6efd;
  }
  
  .explanation-nav-btn.no-explanation {
    background: transparent;
    border-color: #6c757d;
    color: #6c757d;
  }
  
  .explanation-nav-btn.popup-open {
    background: rgba(220, 53, 69, 0.15);
    border-color: #dc3545;
    color: #dc3545;
  }
  
  .explanation-popup {
    background: #2c3e50;
    border-color: #34495e;
    color: #ecf0f1;
  }
  
  .explanation-popup .popup-header {
    background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
    border-bottom-color: #4a5f7a;
  }
  
  .explanation-popup .popup-title {
    color: #ecf0f1;
  }
  
  .explanation-popup .popup-close-btn {
    background: rgba(236, 240, 241, 0.1);
    color: #bdc3c7;
  }
  
  .explanation-popup .popup-close-btn:hover {
    background: rgba(231, 76, 60, 0.2);
    color: #e74c3c;
  }
  
  .explanation-popup .explanation-body {
    color: #ecf0f1;
  }
  
  .explanation-popup .explanation-body h1,
  .explanation-popup .explanation-body h2,
  .explanation-popup .explanation-body h3,
  .explanation-popup .explanation-body h4,
  .explanation-popup .explanation-body h5,
  .explanation-popup .explanation-body h6 {
    color: #ecf0f1;
  }
  
  .explanation-popup .explanation-body h1 {
    border-bottom-color: #4a5f7a;
  }
  
  .explanation-popup .explanation-body h2 {
    color: #7c8af0;
  }
  
  .explanation-popup .explanation-body pre {
    background: #34495e;
    border-color: #4a5f7a;
  }
  
  .explanation-popup .explanation-body code {
    background: #4a5f7a;
    color: #e74c3c;
  }
  
  .explanation-popup .explanation-body blockquote {
    background: #34495e;
    border-left-color: #7c8af0;
    color: #bdc3c7;
  }
  
  .explanation-popup .explanation-body th {
    background: #34495e;
    color: #ecf0f1;
  }
  
  .explanation-popup .explanation-body td {
    border-color: #4a5f7a;
  }
  
  .explanation-popup .explanation-body tr:nth-child(even) {
    background: #34495e;
  }
  
  .explanation-popup .explanation-body a {
    color: #7c8af0;
    border-bottom-color: rgba(124, 138, 240, 0.3);
  }
  
  .explanation-popup .explanation-body a:hover {
    color: #9bb5ff;
    border-bottom-color: #9bb5ff;
  }
}

/* =====================================================
   ğŸ”¥ ì ‘ê·¼ì„± ë° í¬ì»¤ìŠ¤ ê°œì„ 
   ===================================================== */

/* í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ í‘œì‹œ */
.explanation-popup .popup-close-btn:focus {
  outline: 2px solid #667eea;
  outline-offset: 2px;
}

/* ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
@media (prefers-contrast: high) {
  .explanation-popup {
    border: 3px solid #000;
  }
  
  .explanation-floating-btn,
  .explanation-nav-btn {
    border: 2px solid #000;
  }
  
  .explanation-popup .popup-close-btn {
    border: 1px solid #666;
  }
}

/* ëª¨ì…˜ ê°ì†Œ ëª¨ë“œ ì§€ì› */
@media (prefers-reduced-motion: reduce) {
  .explanation-floating-btn,
  .explanation-nav-btn,
  .explanation-popup,
  .explanation-popup .popup-close-btn {
    transition: none;
  }
  
  .explanation-popup .loading-spinner {
    animation: none;
  }
}

/* =====================================================
   ğŸ”¥ ì¸ì‡„ ìŠ¤íƒ€ì¼ (ì„ íƒì )
   ===================================================== */

@media print {
  .explanation-floating-btn,
  .explanation-nav-btn {
    display: none;
  }
  
  .explanation-popup {
    position: static;
    width: 100%;
    max-height: none;
    box-shadow: none;
    border: 1px solid #000;
    border-radius: 0;
  }
  
  .explanation-popup .popup-header {
    background: none;
    border-bottom: 2px solid #000;
  }
  
  .explanation-popup .popup-close-btn {
    display: none;
  }
  
  .explanation-popup .explanation-body {
    padding: 20px;
  }
  
  .explanation-popup .explanation-body a {
    color: #000;
    text-decoration: underline;
  }
}